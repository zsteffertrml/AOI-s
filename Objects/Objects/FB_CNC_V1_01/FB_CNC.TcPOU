<?xml version="1.0" encoding="utf-8"?>
<TcPlcObject Version="1.1.0.1" ProductVersion="3.1.4024.3">
  <POU Name="FB_CNC" Id="{cf2e5201-7a65-4bdf-9557-5bc64b9a3b2c}" SpecialFunc="None">
    <Declaration><![CDATA[FUNCTION_BLOCK PUBLIC FB_CNC EXTENDS FB_EventLogger
VAR_INPUT
	CalibrationCam						: ARRAY[0..HLI_SYS_AX_MAXIDX] OF BOOL;
	LogAxisNo							: ARRAY[0..HLI_SYS_AX_MAXIDX] OF INT;// EtherCAT ID of Axis
	MaxChannelIdx						: INT := 0;	//Max index of channel that is used starting at 0, example: 1 -> totally 2 channels, maximum of 11 (12 channels) is allowed here *)
	Energize							: BOOL;// CNC Energised Flag
END_VAR
VAR_OUTPUT
	
END_VAR
VAR_IN_OUT	                			
	Control								: ST_System;
	Spindle								: ST_Spindle;						//Spindle interface	
END_VAR    
VAR 
	_AxisTorqueLimit					AT %Q* : ARRAY [0..4] OF UINT;								//Bipolar Torque Limit for axes (mapped from drive)
	_DrivePowerManagementStatusWords AT %I* :ARRAY [0..4] OF INT;									//Power management status to detect drives dropping power to ensure rehoming occurs.
	
	_Axis								: ARRAY[0..HLI_SYS_AX_MAXIDX] OF FB_CNCAxis;	//Axis data struct
	{attribute 'tc_no_symbol'}
	_Channel							: ARRAY[0..3] OF HLI3_CNCChannel;	//Channel data struct
	_MachineMode						: ARRAY[0..3] OF ST_MachineMode;	//Machine mode data struct
	_ManualMode							: ST_Selection;						//Manual Mode Selection
	_AutomaticMode						: ST_Selection;						//Automatic Mode Selection
	_MDIMode							: ST_Selection;						//MDI Mode Selection
	_HandwheelMode						: ST_Selection;						//Handwheel Mode Selection
	_StandbyMode						: ST_Selection;						//Standby Mode Selection
	_ReferenceMode						: ST_Selection;						//Reference Mode Selection
	_ManHome							: ST_Selection;						//Manual Home Selection
	_RetractTool						: ST_Selection;						//Retract tool from workpiece
	_SpindleWarmup						: ST_Selection;						//Warm up Spindle
	_AxisNames							: ARRAY[0..4] OF STRING;			//Individual Axis Names for HMI
	_AxisInManual						: ARRAY[0..4] OF BOOL;				//Axis in Manual Flag
	_SelectedChannel					: INT := 0;
	_SelectedAxis						: INT := 0;							//Axis Index Selected from HMI
	_SpindleVelocity					: UINT;								//Spindle Velocity Status
	_SpindleRev							: DINT;								//Spindle Revolution Command
	_AutoEn								: BOOL;								//Auto Enable
	_AutoHome							: BOOL;								//Command Home Drive Auto
	_AxisEnabled						: BOOL;								//All Axes are enabled
	_ManualModeJog						: BOOL;								//Manual Jog Mode
	_ManualModeInc						: BOOL;								//Manual Increment Mode
	_FeedOverride						: UINT := 100;
	_Fault								: BOOL;	     						//Device Fault
	_FaultTimer_ET						: REAL;								//Fault timer elapsed
	_Alarm								: BOOL;								//Device Alarm         
	_Warning							: BOOL;								//Device Warning   
	{attribute 'tc_no_symbol'}
	_ParkMDIString						: STRING;							//Parking MDI String   
	{attribute 'tc_no_symbol'}  
	_AlarmNum							: UDINT;							//Device Alarm Number  
	{attribute 'tc_no_symbol'}
	_WarningNum							: DINT;								//Device Warning Number
	{attribute 'tc_no_symbol'}
	_R_Trig								: ARRAY[0..19] OF R_TRIG;			//Private Rising Edge Triggers
	_HandwheelAxisIsSelected			: BOOL;								//True when axis selected on handwheel
	_Handwheel 							: ST_Handwheel; 					//Handwheel controller inputs
	_ProgramEnd							: ARRAY[0..3] OF BOOL;				//Program End
	_CurrentLine						: DINT;								//N function of currently running program (i.e. N60 -> 60)
	_CurrentNCProgram					: STRING;							//Program currently running in CNC kernal
	_NCProgramCode						: STRING(15000);					//Code of program for reloading into HMI text display\
END_VAR
VAR PERSISTENT                      	
	_Name								: STRING[15];						//Name for HMI
	_Description						: STRING[40];						//Description for HMI
	_AlarmMute							: BOOL;								//Alarm Mute
	_FaultTimer_PT						: REAL;								//Fault timer preset time	
	_Homed								: BOOL;								//Servo is Homed
	_Variables							: ARRAY [0..9] OF ST_Variable;				//Device Associated Varibles Array	
	_ToolData							: ARRAY [0..6] OF ST_CNC_TOOL_DATA_EXT;		//Data for tools
	_PositionOffset						: ARRAY[0..HLI_SYS_AX_MAXIDX] OF LREAL;		//Home position offsets for Axes
	_ParkPositions						: ARRAY[0..HLI_SYS_AX_MAXIDX] OF INT;		//Park positions for Axes
	_pVE_Chan0							: POINTER TO ST_VE_CHAN0;					//Channel 0 User defined Variables
	_Referencing						: E_CNC_HomingMethod; 						//Method to home
	_MeasurementOrder					: ARRAY[0..5] OF UINT :=[2,3,4,1,0];		//Measurement Axis Index Order i.e [2,3,4,1,0] Would be the same as G74 X5 Y4 Z1 C3 A2
	_MeasurementMDIString				: ARRAY[0..5] OF STRING := ['G100 X-10000$R$NM50$R$NM53$R$NG4 1$R$NM51$R$N#PUT AX [X] $R$NM52$R$N#CALL AX [X,11,0]$R$NM54$R$N',
																	'G100 Y-10000$R$NM50$R$NM53$R$NG4 1$R$NM51$R$N#PUT AX [Y] $R$NM52$R$N#CALL AX [Y,10,1]$R$NM54$R$N',
																	'G100 Z1000$R$NM50$R$NM53$R$NG4 1$R$NM51$R$N#PUT AX [Z] $R$NM52$R$N#CALL AX [Z,7,2]$R$NM54$R$N',
																	'G100 C-1000$R$NM50$R$NM53$R$NG4 1$R$NM51$R$N#PUT AX [C] $R$NM52$R$N#CALL AX [C,8,3]$R$NM54$R$N',
																	'G100 A1000$R$NM50$R$NM53$R$NG4 1$R$NM51$R$N#PUT AX [A] $R$NM52$R$N#CALL AX [A,9,4]$R$NM54$R$N',
																	''];//Measurement MDI String

END_VAR                       	






]]></Declaration>
    <Implementation>
      <ST><![CDATA[HLI3_Init(); 
M_WarningMonitor();
M_AlarmMonitor();

(* Call CNC related code only if the HLI has been initialized succesfully! *)
IF CNCSystem.bHLIInit THEN
	M_AxesHandler();    	
	M_ManualMode(_Chan:= _SelectedChannel);
	M_ChannelHandler();	
	M_VariableViewer();	
	M_Selections(_Chan:= _SelectedChannel);	
	M_Spindle(_Chan:= _SelectedChannel);
	M_ToolHandler(_Chan:= _SelectedChannel);
	M_Homing(_Chan:= _SelectedChannel);

  //Mod from Local
END_IF]]></ST>
    </Implementation>
    <Property Name="Alarm" Id="{359f4eee-d9a0-4521-962e-f7d57982a541}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Alarm : Bool]]></Declaration>
      <Get Name="Get" Id="{61388294-419b-458f-bc2b-b3e2226a6579}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Alarm := _Alarm;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="AlarmMute" Id="{7948eba6-0c41-4756-9ef3-f982bead2b79}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC AlarmMute : BOOL]]></Declaration>
      <Set Name="Set" Id="{963ade74-b216-469b-afc1-68758f2cec2e}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[AlarmMute := _AlarmMute;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="AutoHome" Id="{ab395135-4b23-4f9a-a0dd-ccd5102cd195}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC AutoHome : Bool]]></Declaration>
      <Set Name="Set" Id="{7b5c1eb4-837a-48b9-9b69-465a72284bb5}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_AutoHome := AutoHome;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="AxisEnabled" Id="{69ff1fbf-98be-452d-ae1a-78bb861e8efd}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC AxisEnabled : Bool]]></Declaration>
      <Get Name="Get" Id="{7d84d92b-d133-42b4-a75f-ff425b45cf44}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[AxisEnabled := _AxisEnabled;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="Description" Id="{40aa6561-11c0-4b28-872b-7fb5653ac56e}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Description : String[40]]]></Declaration>
      <Get Name="Get" Id="{05ef46eb-f8a5-4005-8766-e7700868af57}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Description := _Description;]]></ST>
        </Implementation>
      </Get>
      <Set Name="Set" Id="{1d7ebb25-99e6-4c7e-885b-8d44a9870fa9}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_Description := Description;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="Fault" Id="{fb7aa23f-5e73-4c0d-be57-4d847db5941c}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Fault : Bool]]></Declaration>
      <Set Name="Set" Id="{1894d889-4160-4322-aa06-e59987e132df}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_Fault := Fault;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="FaultTimer_ET" Id="{7e22a7dd-22a3-4dd1-ab54-9897ee6bb3a0}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC FaultTimer_ET : real]]></Declaration>
      <Get Name="Get" Id="{d4c923a8-596e-4647-82f8-21dfd92d7684}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[FaultTimer_ET := _FaultTimer_ET;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="FaultTimer_PT" Id="{824f0c37-26db-4081-a4ee-f0548ace22e9}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC FaultTimer_PT : real]]></Declaration>
      <Get Name="Get" Id="{c7a44f53-7cef-4367-b3f8-3ba50b57c69c}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[FaultTimer_PT := _FaultTimer_PT;]]></ST>
        </Implementation>
      </Get>
      <Set Name="Set" Id="{644aedff-272b-4e1d-8d0a-b6788272f907}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_FaultTimer_PT := FaultTimer_PT;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="FeedOverride" Id="{80a7a54e-5404-4a02-9c83-808a38edf8bc}">
      <Declaration><![CDATA[PROPERTY PUBLIC FeedOverride : UINT]]></Declaration>
      <Get Name="Get" Id="{18ff8965-7c22-4954-8a19-06eea85069db}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[FeedOverride:= _FeedOverride;]]></ST>
        </Implementation>
      </Get>
      <Set Name="Set" Id="{dfae57c9-a52b-4b29-b621-d516d84695c1}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_FeedOverride:= FeedOverride;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="HandwheelSelected" Id="{eab7aa11-8243-44da-b78b-103a0ea97542}">
      <Declaration><![CDATA[PROPERTY PUBLIC HandwheelSelected : BOOL]]></Declaration>
      <Get Name="Get" Id="{33c9364a-ad92-4848-8838-97915c2fed3d}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[HandwheelSelected:= (_MachineMode[0].ManualMode.nManualTyp = 1);]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="Homed" Id="{0ba18c2e-6a1b-4a41-8c0b-6818ced9f199}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Homed : Bool]]></Declaration>
      <Get Name="Get" Id="{3447c266-c031-4c0f-a7e6-f1292d29f1ee}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Homed := _Homed;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Method Name="M_AlarmMonitor" Id="{551bc7b8-11df-43f3-9985-4613b8af0d4d}">
      <Declaration><![CDATA[METHOD PRIVATE M_AlarmMonitor
VAR_INPUT
END_VAR]]></Declaration>
      <Implementation>
        <NWL>
          <XmlArchive>
            <Data>
              <o xml:space="preserve" t="NWLImplementationObject">
                <v n="NetworkListComment">""</v>
                <v n="DefaultViewMode">"Ld"</v>
                <l2 n="NetworkList" cet="Network">
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems">
                      <o t="BoxTreeDemux">
                        <v n="VarId">127</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"AND"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">406L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems" />
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems" cet="BoxTreeOperand">
                            <o>
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_AlarmMute"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">1</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">409L</v>
                              </o>
                              <v n="Id">408L</v>
                            </o>
                            <o>
                              <o n="Operand" t="Operand">
                                <v n="Operand">"Control.Inputs.AlarmAck.Enabled"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">"%Q*"</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">1</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">411L</v>
                              </o>
                              <v n="Id">410L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <v n="CallType" t="Operator">And</v>
                          <n n="EN" />
                          <n n="ENO" />
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">407L</v>
                        </o>
                        <v n="Id">405L</v>
                      </o>
                      <o t="BoxTreeDemux">
                        <v n="VarId">128</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"AND"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">413L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems" />
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeDemux">
                              <v n="VarId">127</v>
                              <n n="Input" />
                              <v n="Id">415L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_Fault"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">"Fault"</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">417L</v>
                              </o>
                              <v n="Id">416L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <v n="CallType" t="Operator">And</v>
                          <n n="EN" />
                          <n n="ENO" />
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">414L</v>
                        </o>
                        <v n="Id">412L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"ADD"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">418L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_FaultTimer_ET"</v>
                              <v n="Type">"REAL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Fault timer elapsed"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">420L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">true</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeDemux">
                            <v n="VarId">128</v>
                            <n n="Input" />
                            <v n="Id">421L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_FaultTimer_ET"</v>
                              <v n="Type">"REAL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Fault timer elapsed"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">423L</v>
                            </o>
                            <v n="Id">422L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"Control.SystemTime.ScanTime"</v>
                              <v n="Type">"REAL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Last scan time (Seconds)	"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">425L</v>
                            </o>
                            <v n="Id">424L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v>INT</v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Add</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">419L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">426L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_FaultTimer_ET"</v>
                              <v n="Type">"REAL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Fault timer elapsed"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">428L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">true</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeBox">
                            <v n="BoxType">"AND"</v>
                            <o n="Instance" t="Operand">
                              <n n="Operand" />
                              <v n="Type">""</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">true</v>
                              <v n="Id">429L</v>
                            </o>
                            <o n="OutputItems" t="OutputItemList">
                              <l2 n="OutputItems" />
                            </o>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <n n="InputFlags" />
                            <l2 n="InputItems">
                              <o t="BoxTreeDemux">
                                <v n="VarId">128</v>
                                <n n="Input" />
                                <v n="Id">431L</v>
                              </o>
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"_Fault"</v>
                                  <v n="Type">"BOOL"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">16</v>
                                    <v n="Fixed">true</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">true</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">433L</v>
                                </o>
                                <v n="Id">432L</v>
                              </o>
                            </l2>
                            <o n="InputParam" t="ParamList">
                              <l2 n="Names" />
                              <l2 n="Types" />
                            </o>
                            <o n="OutputParam" t="ParamList">
                              <l2 n="Names" />
                              <l2 n="Types" />
                            </o>
                            <v n="CallType" t="Operator">And</v>
                            <n n="EN" />
                            <n n="ENO" />
                            <n n="STSnippet" />
                            <v n="ContainsExtensibleInputs">false</v>
                            <v n="ProvidesSTSnippet">false</v>
                            <v n="Id">430L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"0"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">435L</v>
                            </o>
                            <v n="Id">434L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">427L</v>
                      </o>
                      <o t="BoxTreeDemux">
                        <v n="VarId">129</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"EQ"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">437L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems">
                              <n />
                            </l2>
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeDemux">
                              <v n="VarId">127</v>
                              <n n="Input" />
                              <v n="Id">439L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_AlarmNum"</v>
                                <v n="Type">"UDINT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">441L</v>
                              </o>
                              <v n="Id">440L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"0"</v>
                                <v n="Type">"INT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">443L</v>
                              </o>
                              <v n="Id">442L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v>EN</v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v></v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <v n="CallType" t="Operator">Eq</v>
                          <v n="EN">true</v>
                          <v n="ENO">false</v>
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">438L</v>
                        </o>
                        <v n="Id">436L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">444L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_AlarmNum"</v>
                              <v n="Type">"UDINT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">446L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeBox">
                            <v n="BoxType">"GT"</v>
                            <o n="Instance" t="Operand">
                              <n n="Operand" />
                              <v n="Type">""</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">true</v>
                              <v n="Id">447L</v>
                            </o>
                            <o n="OutputItems" t="OutputItemList">
                              <l2 n="OutputItems">
                                <n />
                              </l2>
                            </o>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <n n="InputFlags" />
                            <l2 n="InputItems">
                              <o t="BoxTreeBox">
                                <v n="BoxType">"AND"</v>
                                <o n="Instance" t="Operand">
                                  <n n="Operand" />
                                  <v n="Type">""</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">true</v>
                                  <v n="Id">449L</v>
                                </o>
                                <o n="OutputItems" t="OutputItemList">
                                  <l2 n="OutputItems" />
                                </o>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <n n="InputFlags" />
                                <l2 n="InputItems">
                                  <o t="BoxTreeDemux">
                                    <v n="VarId">129</v>
                                    <n n="Input" />
                                    <v n="Id">451L</v>
                                  </o>
                                  <o t="BoxTreeOperand">
                                    <o n="Operand" t="Operand">
                                      <v n="Operand">"_Fault"</v>
                                      <v n="Type">"BOOL"</v>
                                      <v n="Comment">""</v>
                                      <v n="SymbolComment">""</v>
                                      <v n="Address">""</v>
                                      <o n="Flags" t="Flags">
                                        <v n="Flags">0</v>
                                        <v n="Fixed">true</v>
                                        <v n="Extensible">false</v>
                                      </o>
                                      <v n="LValue">false</v>
                                      <v n="Boolean">true</v>
                                      <v n="IsInstance">false</v>
                                      <v n="Id">453L</v>
                                    </o>
                                    <v n="Id">452L</v>
                                  </o>
                                </l2>
                                <o n="InputParam" t="ParamList">
                                  <l2 n="Names" />
                                  <l2 n="Types" />
                                </o>
                                <o n="OutputParam" t="ParamList">
                                  <l2 n="Names" />
                                  <l2 n="Types" />
                                </o>
                                <v n="CallType" t="Operator">And</v>
                                <n n="EN" />
                                <n n="ENO" />
                                <n n="STSnippet" />
                                <v n="ContainsExtensibleInputs">false</v>
                                <v n="ProvidesSTSnippet">false</v>
                                <v n="Id">450L</v>
                              </o>
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"_FaultTimer_ET"</v>
                                  <v n="Type">"REAL"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">"Fault timer elapsed"</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">455L</v>
                                </o>
                                <v n="Id">454L</v>
                              </o>
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"_FaultTimer_PT"</v>
                                  <v n="Type">"REAL"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">"Fault timer preset time"</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">457L</v>
                                </o>
                                <v n="Id">456L</v>
                              </o>
                            </l2>
                            <o n="InputParam" t="ParamList">
                              <l2 n="Names" cet="String">
                                <v>EN</v>
                              </l2>
                              <l2 n="Types" cet="String">
                                <v>BOOL</v>
                              </l2>
                            </o>
                            <o n="OutputParam" t="ParamList">
                              <l2 n="Names" cet="String">
                                <v></v>
                              </l2>
                              <l2 n="Types" cet="String">
                                <v>BOOL</v>
                              </l2>
                            </o>
                            <v n="CallType" t="Operator">Gt</v>
                            <v n="EN">true</v>
                            <v n="ENO">false</v>
                            <n n="STSnippet" />
                            <v n="ContainsExtensibleInputs">false</v>
                            <v n="ProvidesSTSnippet">false</v>
                            <v n="Id">448L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"2701"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">459L</v>
                            </o>
                            <v n="Id">458L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">445L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">460L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_AlarmNum"</v>
                              <v n="Type">"UDINT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">462L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeBox">
                            <v n="BoxType">"EQ"</v>
                            <o n="Instance" t="Operand">
                              <n n="Operand" />
                              <v n="Type">""</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">true</v>
                              <v n="Id">463L</v>
                            </o>
                            <o n="OutputItems" t="OutputItemList">
                              <l2 n="OutputItems">
                                <n />
                              </l2>
                            </o>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <n n="InputFlags" />
                            <l2 n="InputItems">
                              <o t="BoxTreeDemux">
                                <v n="VarId">129</v>
                                <n n="Input" />
                                <v n="Id">465L</v>
                              </o>
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"_Channel[0].currentState"</v>
                                  <v n="Type">"UDINT"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">467L</v>
                                </o>
                                <v n="Id">466L</v>
                              </o>
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"E_CNC_State.ERROR"</v>
                                  <v n="Type">"E_CNC_STATE"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">469L</v>
                                </o>
                                <v n="Id">468L</v>
                              </o>
                            </l2>
                            <o n="InputParam" t="ParamList">
                              <l2 n="Names" cet="String">
                                <v>EN</v>
                              </l2>
                              <l2 n="Types" cet="String">
                                <v>BOOL</v>
                              </l2>
                            </o>
                            <o n="OutputParam" t="ParamList">
                              <l2 n="Names" cet="String">
                                <v></v>
                              </l2>
                              <l2 n="Types" cet="String">
                                <v>BOOL</v>
                              </l2>
                            </o>
                            <v n="CallType" t="Operator">Eq</v>
                            <v n="EN">true</v>
                            <v n="ENO">false</v>
                            <n n="STSnippet" />
                            <v n="ContainsExtensibleInputs">false</v>
                            <v n="ProvidesSTSnippet">false</v>
                            <v n="Id">464L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"2702"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">471L</v>
                            </o>
                            <v n="Id">470L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">461L</v>
                      </o>
                      <o t="BoxTreeDemux">
                        <v n="VarId">130</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"NE"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">473L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems">
                              <n />
                            </l2>
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeDemux">
                              <v n="VarId">127</v>
                              <n n="Input" />
                              <v n="Id">475L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_AlarmNum"</v>
                                <v n="Type">"UDINT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">477L</v>
                              </o>
                              <v n="Id">476L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"0"</v>
                                <v n="Type">"INT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">479L</v>
                              </o>
                              <v n="Id">478L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v>EN</v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v></v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <v n="CallType" t="Operator">Ne</v>
                          <v n="EN">true</v>
                          <v n="ENO">false</v>
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">474L</v>
                        </o>
                        <v n="Id">472L</v>
                      </o>
                      <o t="BoxTreeAssign">
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <o>
                              <v n="Operand">"_Alarm"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">481L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <o n="RValue" t="BoxTreeDemux">
                          <v n="VarId">130</v>
                          <n n="Input" />
                          <v n="Id">480L</v>
                        </o>
                        <v n="Id">482L</v>
                      </o>
                      <o t="BoxTreeAssign">
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <o>
                              <v n="Operand">"Control.Outputs.Alarm"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Machine has an alarm active"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">2</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">488L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <o n="RValue" t="BoxTreeBox">
                          <v n="BoxType">"AND"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">483L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems" />
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeDemux">
                              <v n="VarId">130</v>
                              <n n="Input" />
                              <v n="Id">485L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"Control.Outputs.Alarm"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">"%Q*"</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">1</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">487L</v>
                              </o>
                              <v n="Id">486L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <v n="CallType" t="Operator">And</v>
                          <n n="EN" />
                          <n n="ENO" />
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">484L</v>
                        </o>
                        <v n="Id">489L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">404L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems">
                      <o t="BoxTreeDemux">
                        <v n="VarId">3</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"OR"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">74L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems" />
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems" cet="BoxTreeOperand">
                            <o>
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_AlarmMute"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">77L</v>
                              </o>
                              <v n="Id">76L</v>
                            </o>
                            <o>
                              <o n="Operand" t="Operand">
                                <v n="Operand">"Control.Inputs.AlarmAck.Enabled"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">"%Q*"</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">79L</v>
                              </o>
                              <v n="Id">78L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <v n="CallType" t="Operator">Or</v>
                          <n n="EN" />
                          <n n="ENO" />
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">75L</v>
                        </o>
                        <v n="Id">73L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">80L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_AlarmNum"</v>
                              <v n="Type">"UDINT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">82L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeDemux">
                            <v n="VarId">3</v>
                            <n n="Input" />
                            <v n="Id">83L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"0"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">85L</v>
                            </o>
                            <v n="Id">84L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">81L</v>
                      </o>
                      <o t="BoxTreeBox">
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">86L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_FaultTimer_ET"</v>
                              <v n="Type">"REAL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Fault timer elapsed"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">88L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeDemux">
                            <v n="VarId">3</v>
                            <n n="Input" />
                            <v n="Id">89L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"0"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">91L</v>
                            </o>
                            <v n="Id">90L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">87L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">72L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems" cet="BoxTreeBox">
                      <o>
                        <v n="BoxType">"M_LogAlarm"</v>
                        <o n="Instance" t="Operand">
                          <v n="Operand">""</v>
                          <v n="Type">"M_LogAlarm"</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">231L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" />
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">true</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems" cet="BoxTreeOperand">
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Alarm"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">226L</v>
                            </o>
                            <v n="Id">225L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Name"</v>
                              <v n="Type">"STRING(15)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">179L</v>
                            </o>
                            <v n="Id">178L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Description"</v>
                              <v n="Type">"STRING(40)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">181L</v>
                            </o>
                            <v n="Id">180L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"''"</v>
                              <v n="Type">"STRING(INT#0)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">197L</v>
                            </o>
                            <v n="Id">196L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"M_Alarms()"</v>
                              <v n="Type">"TcEventEntry"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">183L</v>
                            </o>
                            <v n="Id">182L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Alarm"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">1</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">234L</v>
                            </o>
                            <v n="Id">233L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"Control.Outputs.AlarmMessage"</v>
                              <v n="Type">"STRING"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">189L</v>
                            </o>
                            <v n="Id">188L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>Execute</v>
                            <v>Arg0</v>
                            <v>Arg1</v>
                            <v>Arg2</v>
                            <v>EventEntry</v>
                            <v>Clear</v>
                            <v>Message</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v>STRING</v>
                            <v>STRING</v>
                            <v>STRING</v>
                            <v>TcEventEntry</v>
                            <v>BOOL</v>
                            <v>STRING[REF]</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" />
                          <l2 n="Types" />
                        </o>
                        <v n="CallType" t="Operator">Method</v>
                        <v n="EN">false</v>
                        <v n="ENO">false</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">232L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">173L</v>
                  </o>
                </l2>
                <v n="BranchCounter">127</v>
                <v n="ValidIds">true</v>
              </o>
            </Data>
            <TypeList>
              <Type n="Boolean">System.Boolean</Type>
              <Type n="BoxTreeAssign">{9873c309-1f09-4ebf-9078-42d8057ef11b}</Type>
              <Type n="BoxTreeBox">{acfc6f68-8e3a-4af5-bf81-3dd512095a46}</Type>
              <Type n="BoxTreeDemux">{b1d55618-017c-4bc5-990a-55c2f27d9d3a}</Type>
              <Type n="BoxTreeOperand">{9de7f100-1b87-424c-a62e-45b0cfc85ed2}</Type>
              <Type n="Flags">{668066f2-6069-46b3-8962-8db8d13d7db2}</Type>
              <Type n="Int32">System.Int32</Type>
              <Type n="Int64">System.Int64</Type>
              <Type n="Network">{d9a99d73-b633-47db-b876-a752acb25871}</Type>
              <Type n="NWLImplementationObject">{25e509de-33d4-4447-93f8-c9e4ea381c8b}</Type>
              <Type n="Operand">{c9b2f165-48a2-4a45-8326-3952d8a3d708}</Type>
              <Type n="Operator">{bffb3c53-f105-4e85-aba2-e30df579d75f}</Type>
              <Type n="OutputItemList">{f40d3e09-c02c-4522-a88c-dac23558cfc4}</Type>
              <Type n="ParamList">{71496971-9e0c-4677-a832-b9583b571130}</Type>
              <Type n="String">System.String</Type>
            </TypeList>
          </XmlArchive>
        </NWL>
      </Implementation>
    </Method>
    <Method Name="M_Alarms" Id="{ff3115cc-2cf8-4aba-b81e-75da85fbc3bf}">
      <Declaration><![CDATA[METHOD PRIVATE M_Alarms : TcEventEntry
VAR_INPUT
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[CASE _AlarmNum OF
	2701: M_Alarms:= TC_Events.TcCnc.A_2701;//Alarm	
	2702: M_Alarms:= TC_Events.TcCnc.A_2702;//Mode Error					
ELSE
	M_Alarms:= TC_Events.TcCnc.A_Undefined;
END_CASE]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_AxesHandler" Id="{93ad86df-0a10-4356-bf08-23fe58533ff5}">
      <Declaration><![CDATA[METHOD PRIVATE M_AxesHandler
VAR_INST
	{attribute 'tc_no_symbol'}
	_HliAxisIdx					: INT;				//Loop index	
	{attribute 'tc_no_symbol'}			
	_FirstSpindle				: INT := -1;		//Spindle HLI index
	{attribute 'tc_no_symbol'}
	_fbAxesError 				: FB_AxesError;		//Axes error
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[_fbAxesError(bReset := (_Alarm AND Control.Inputs.AlarmAck.Enabled));
_AxisEnabled := TRUE;   
FOR _HliAxisIdx := 0 TO UDINT_TO_INT(gNrAx-1) DO			
	_Axis[_HliAxisIdx](bCalibrationCam:= CalibrationCam[_HliAxisIdx],
		bEnable	:= _AutoEn,
		nLogAxisNo := LogAxisNo[_HliAxisIdx]);
	_Axis[_HliAxisIdx].stOptions.bProbingSignal:= CalibrationCam[_HliAxisIdx];
		
	IF _HliAxisIdx <= UDINT_TO_INT(gNrAx-2) THEN
		_AxisNames[_HliAxisIdx] := gpCh[0]^.bahn_state.coord_r[_HliAxisIdx].axis_name_r.zeichen;
		_AxisInManual[_HliAxisIdx] := _MachineMode[0].ManualMode.nLogAxisNumber = INT_TO_UINT(_Axis[_HliAxisIdx].nLogAxisNo);
		_Axis[_HliAxisIdx].stOptions.bProbingSignal := CalibrationCam[_HliAxisIdx];	
		IF (NOT _Axis[_HliAxisIdx].stStatus.bIsEnabled) THEN    // if one axis status is "not enabled" -> reset PLCStatusAxisEnabled
			_AxisEnabled := FALSE;
		END_IF
	END_IF
		
		IF HLI3_CheckAxisValid(_HliAxisIdx) THEN
			IF _FirstSpindle = -1 AND gpAx[_HliAxisIdx]^.ipo_state.spindle_axis_r THEN  (* store HLIIndex of first spindle *)
				_FirstSpindle := _HliAxisIdx;
			END_IF
		END_IF
		
END_FOR

]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_ChannelHandler" Id="{0a8dacf7-3655-49c6-a433-af25632fc464}">
      <Declaration><![CDATA[METHOD M_ChannelHandler
VAR_INST
	{attribute 'tc_no_symbol'}
	_Chan					: INT;								//Channel index
	{attribute 'tc_no_symbol'}
	_OldSelectedChannel		: UDINT;							//Previous channel index
	{attribute 'tc_no_symbol'}
	_stOptions				: ST_CNC_CH_Options;				//HLI options for structure 
	{attribute 'tc_no_symbol'}
	_ChannelSignals			: ST_ChannelSignals;				//HLI channel signal structure
	{attribute 'tc_no_symbol'}
	_BlockSearch			: ARRAY[0..3] OF HLI3_BlockSearch;	//HLI block search structure
	{attribute 'tc_no_symbol'}
	_ErrorHandler			: ARRAY[0..3] OF FB_ChannelError;	//HLI channel error structure				
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[IF (_OldSelectedChannel <>INT_TO_UDINT(_SelectedChannel)) THEN
	_ChannelSignals.SingleBlock 		:= _MachineMode[_SelectedChannel].ChannelSignals.SingleBlock;
	_ChannelSignals.PrgBlockIgnore		:= _MachineMode[_SelectedChannel].ChannelSignals.PrgBlockIgnore;
	_ChannelSignals.M01Stop 			:= _MachineMode[_SelectedChannel].ChannelSignals.M01Stop;
	_ChannelSignals.Backward 			:= _MachineMode[_SelectedChannel].ChannelSignals.Backward;
	_ChannelSignals.FeedHold 			:= _MachineMode[_SelectedChannel].ChannelSignals.FeedHold;
	_OldSelectedChannel 				:= INT_TO_UDINT(_SelectedChannel);
END_IF

_MachineMode[_SelectedChannel].ChannelSignals.SingleBlock 	:= _ChannelSignals.SingleBlock;
_MachineMode[_SelectedChannel].ChannelSignals.PrgBlockIgnore:= _ChannelSignals.PrgBlockIgnore;
_MachineMode[_SelectedChannel].ChannelSignals.M01Stop 		:= _ChannelSignals.M01Stop;
_MachineMode[_SelectedChannel].ChannelSignals.Backward 		:= _ChannelSignals.Backward;
_MachineMode[_SelectedChannel].ChannelSignals.FeedHold 		:= _ChannelSignals.FeedHold;

_stOptions.bReferenceModeStartRequired := FALSE;
//_stOptions.bDisableCNCPLCWatchDog := TRUE;

FOR _Chan := 0 TO MaxChannelIdx DO
	IF (HLI3_CheckChannelValid(_Chan)) THEN		
		
		_MachineMode[_Chan].Mode 	:= _Channel[_Chan].currentMode;
		_MachineMode[_Chan].State	:= _Channel[_Chan].currentState;
		_ErrorHandler[_Chan](nChanIdx	:= _Chan);				

		_Channel[_Chan]
			(nChanIdx			:= _Chan,							
			 bModeStandby		:= _MachineMode[_Chan].Standby,
			 bModeAutomatic		:= _MachineMode[_Chan].Automatic,
			 bModeManual		:= _MachineMode[_Chan].Manual,
			 bModeMDI			:= _MachineMode[_Chan].MDI,	 
			 bModeReference		:= _MachineMode[_Chan].Homing,
			 bStateSelect		:= _MachineMode[_Chan].Select,
			 bStateReady		:= _MachineMode[_Chan].Ready,
			 bStateStart		:= _MachineMode[_Chan].Start,
			 bStateStop			:= _MachineMode[_Chan].Stop,
			 bStateReset		:= _MachineMode[_Chan].Reset,
			 nFeedOverride		:= _FeedOverride * 10,
			 nRapidFeedOverride := _FeedOverride * 10, 
			 sProgramName		:= _MachineMode[_Chan].ProgramName,			 
			 sMDIString			:= _MachineMode[_Chan].MDIString,
			 bBackwardMotion	:= _MachineMode[_Chan].ChannelSignals.Backward,
			 bPrgBlockIgnore	:= _MachineMode[_Chan].ChannelSignals.PrgBlockIgnore,
			 bFeedHold			:= _MachineMode[_Chan].ChannelSignals.FeedHold,
			 bSingleBlock		:= _MachineMode[_Chan].ChannelSignals.SingleBlock,
			 bDoSingleBlock		:= _MachineMode[_Chan].ChannelSignals.DoSingleBlock,
			 bM01Stop			:= _MachineMode[_Chan].ChannelSignals.M01Stop,
			 nSyntaxCheck		:= _MachineMode[_Chan].SyntaxCheck.nType,
			 bM30Acknowledgement:= TRUE,
			 stManualModeParameter  	 	 := stManualModeParameter[_Chan],
			 stManualModeControlElements	 := stManualModeControlElements[_Chan],
			 stManualModeControlElementState := stManualModeControlElementState,
			 stOptions			:= 	_stOptions
			);
			
		_r_trig[_Chan](CLK:= gpCh[_Chan]^.bahn_state.program_end_r);
		_ProgramEnd[_Chan]:= _r_trig[_Chan].Q;
		
		_BlockSearch[_Chan]
			(nChanIdx			:= _Chan,
			 bStartRead      	:= _MachineMode[_Chan].BlockSearch.bStartRead,   (* Edge signal *)
			 bStartWrite     	:= _MachineMode[_Chan].BlockSearch.bStartWrite,  (* Edge signal *)
			 BlockSearch		:= _MachineMode[_Chan].BlockSearch
			);
		
		CNCSystem.Channel[_Chan].ActDistance 	:= DINT_TO_LREAL(_BlockSearch[_Chan].coveredDistance_AfterReset) / 10.0;
		CNCSystem.Channel[_Chan].ActBlockCount 	:= _BlockSearch[_Chan].actualBlockCount_AfterReset;
						
	END_IF
END_FOR

_CurrentNCProgram := gpCh[0]^.bahn_state.file_name_r.zeichen;
_CurrentLine:= gpCh[0]^.bahn_state.block_nr_r;]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_Homing" Id="{466dc8fd-1909-44dc-af82-e5fad6e99017}">
      <Declaration><![CDATA[METHOD PRIVATE M_Homing
VAR_INPUT
	{attribute 'tc_no_symbol'}
	_Chan								 : INT;									//Channel index
END_VAR
VAR_INST
	{attribute 'tc_no_symbol'}
	_Step                  			 	 : ARRAY[0..3] OF INT;					//Step counter
	{attribute 'tc_no_symbol'}
	_Axe					 			 : UINT;								//Axes index
	{attribute 'tc_no_symbol'}
	_SetDrivePosition					 : BOOL;								//Set drive position
	{attribute 'tc_no_symbol'}
	_DeleteDrivePosition				 : BOOL;								//Delete drive position
	{attribute 'tc_no_symbol'}	
	_fb_CNCAX5000SetPositionOffset		 : FB_CNCAX5000SetPositionOffset;		//Sets encoder position in drive memory
	{attribute 'tc_no_symbol'}
	_fb_CNCAX5000DeletePositionOffset	 : FB_CNCAX5000DeletePositionOffset;	//Clears drive memory
END_VAR]]></Declaration>
      <Implementation>
        <ST><![CDATA[IF _MachineMode[_Chan].State = E_CNC_State.ERROR OR Control.PackMLState.Stopped THEN
   _Step[_Chan] := 0;
END_IF
 
CASE _Referencing OF

//Homing Method with Calibration Cam. This method uses the Position Offsets stored in the CNC Params. The encoder position is NOT stored in memory.
E_CNC_HomingMethod.Homing:

	CASE _Step[_Chan] OF
		0: //Idle
			IF _AutoHome AND NOT _Alarm THEN
				_Homed := FALSE;
				_Axe:=0;
			    _Step[_Chan] := 1;
			ELSIF _ManHome.Queued AND NOT _Alarm THEN
				_Homed := FALSE;
				IF _ManHome.Enabled THEN
					_Axe:=INT_TO_UINT(_SelectedAxis);
					_Step[_Chan] := 10;
				END_IF
			END_IF
		
		1://Update Homing Offsets
			_Axis[0].fRefOffset:= _PositionOffset[0];
			_Axis[0].bSetRefOffset:= TRUE;
			_Axis[1].fRefOffset:= _PositionOffset[1];
			_Axis[1].bSetRefOffset:= TRUE;
			_Axis[2].fRefOffset:= _PositionOffset[2];
			_Axis[2].bSetRefOffset:= TRUE;
			_Axis[3].fRefOffset:= _PositionOffset[3];
			_Axis[3].bSetRefOffset:= TRUE;
			_Axis[4].fRefOffset:= _PositionOffset[4];
			_Axis[4].bSetRefOffset:= TRUE;

			_Step[_Chan] := 2;
	
	
		2://Enable Homing
			_MachineMode[0].Homing:= TRUE;

			IF _Axis[0].stStatus.bHomingDone AND _Axis[1].stStatus.bHomingDone AND 
				_Axis[2].stStatus.bHomingDone AND _Axis[3].stStatus.bHomingDone AND _Axis[4].stStatus.bHomingDone THEN
					_Step[_Chan] := 3;
			END_IF
	
		3: //Wait for CNC to reach park positions
		 	IF _MachineMode[_Chan].State = E_CNC_State.READY THEN
		     	_Step[_Chan] := 4;
		 	END_IF
		
		4://Set mode to standby	
			_Homed := TRUE;
			_MachineMode[_Chan].Standby := TRUE;
			IF NOT _Autohome AND NOT _ManHome.Enabled AND _MachineMode[_Chan].Mode = E_CNC_Mode.STANDBY_MODE THEN
				_Step[_Chan] := 0;
			END_IF
			
		//Single Axis Manual Home
		10://Set MDI Mode
			_MachineMode[_Chan].MDI := TRUE;
			IF _MachineMode[_Chan].Mode = E_CNC_Mode.MDI_MODE THEN
				_Step[_Chan] := 11;
	    	END_IF
			
		11://Set homing string for indiviudal axis
			CASE _Axe OF
				0: _MachineMode[_Chan].MDIString := 'G74 X0';
				1: _MachineMode[_Chan].MDIString := 'G74 Y0';
				2: _MachineMode[_Chan].MDIString := 'G74 Z0';
				3: _MachineMode[_Chan].MDIString := 'G74 C0';
				4: _MachineMode[_Chan].MDIString := 'G74 A0';
			END_CASE
			_MachineMode[_Chan].Start := TRUE;
			_SetDrivePosition := FALSE;
	 		_Step[_Chan] := 12;
			
		12://Wait for CNC ready state
			IF _MachineMode[_Chan].State = E_CNC_State.READY THEN
	       		_Step[_Chan] := 13;
	    	END_IF
			
		13://Park Axis
			_MachineMode[_Chan].MDIString := CONCAT(_AxisNames[_SelectedAxis],TO_STRING(_ParkPositions[_SelectedAxis]));
			_MachineMode[_Chan].Start := TRUE;
			_Step[_Chan] := 14;
		
		14: //Wait for CNC to start moving to park positions
		 	IF _MachineMode[_Chan].State = E_CNC_State.ACTIVE THEN
		     	_Step[_Chan] := 15;
		 	END_IF		
			
		15: //Wait for CNC to reach park positions
		 	IF _MachineMode[_Chan].State = E_CNC_State.READY THEN
		     	_Step[_Chan] := 16;
		 	END_IF
		
		16://Set mode to standby	
			_Homed := TRUE;
			_MachineMode[_Chan].Standby := TRUE;
			IF NOT _Autohome AND NOT _ManHome.Enabled AND _MachineMode[_Chan].Mode = E_CNC_Mode.STANDBY_MODE THEN
				_Step[_Chan] := 0;
			END_IF
	END_CASE		


//Measurement Method With Probing Signal. This method uses the Position Offsets stored in the PLC. The encoder position IS stored in memory.
E_CNC_HomingMethod.Measurment:

	CASE _Step[_Chan] OF
		0: //Idle
			IF _AutoHome AND NOT _Alarm THEN
				_SetDrivePosition := FALSE;
				FOR _Axe := 0 TO UDINT_TO_UINT(gNrAx-2) DO
					_Axis[_MeasurementOrder[_Axe]].bSetRefOffset := FALSE;
					_Axis[_MeasurementOrder[_Axe]].stOptions.bResetCalibration := TRUE;
				END_FOR;
				_Homed := FALSE;
				_Axe:= 0;
			    _Step[_Chan] := 1;
			ELSIF _ManHome.Queued AND NOT _Alarm THEN
				_Homed := FALSE;
				IF _ManHome.Enabled THEN
					_Axe:=INT_TO_UINT(_SelectedAxis);
					_Step[_Chan] := 1;
				END_IF
			END_IF
			
		1://Enable Axes and set Standby Mode
			_AutoEn := TRUE;
			_MachineMode[_Chan].Standby := TRUE;
			IF _AxisEnabled AND _MachineMode[_Chan].Mode = E_CNC_Mode.STANDBY_MODE THEN
				_Step[_Chan] := 2;
			END_IF
	    	
	    2: //Set MDI mode
			_MachineMode[_Chan].MDI := TRUE;
			IF _MachineMode[_Chan].Mode = E_CNC_Mode.MDI_MODE THEN
				_Step[_Chan] := 3;
	    	END_IF
			
		3: //Reset homing done bool to allow ignorance of software limits
			IF _Axis[_MeasurementOrder[_Axe]].stStatus.bHomingDone = FALSE THEN
				_Axis[_MeasurementOrder[_Axe]].stOptions.bResetCalibration := FALSE;	
				_Step[_Chan] := 4;
			END_IF
			
	    4: //Create homing MDI string
			IF _ManHome.Enabled THEN
				_MachineMode[_Chan].MDIString := _MeasurementMDIString[_Axe];
			ELSE
				_MachineMode[_Chan].MDIString := _MeasurementMDIString[_MeasurementOrder[_Axe]];	
			END_IF
			_MachineMode[_Chan].Start := TRUE;
			_SetDrivePosition := FALSE;
	 		_Step[_Chan] := 5;
		
	    5: //Wait for CNC to start moving to home positions
	    	IF _MachineMode[_Chan].State = E_CNC_State.ACTIVE THEN
	       		_Step[_Chan] := 6;
	    	END_IF	
	
		6://Wait for CNC to reach home positions
		
				//M50 Clear Reference Flag
				IF CNCSystem.Channel[0].M[50].bState_rw THEN
					_Axis[_MeasurementOrder[_Axe]].stOptions.bResetCalibration := TRUE;
					IF _Axis[_MeasurementOrder[_Axe]].stStatus.bHomingDone = FALSE THEN
						_Axis[_MeasurementOrder[_Axe]].stOptions.bResetCalibration := FALSE;
						CNCSystem.Channel[0].M[50].bState_rw := FALSE;
					END_IF
				END_IF
				
				//M51 Set Drive Position
				IF CNCSystem.Channel[0].M[51].bState_rw THEN
					_SetDrivePosition := TRUE;
				END_IF
				IF _Axis[_MeasurementOrder[_Axe]].stStatus.fActPosACS > (_PositionOffset[_MeasurementOrder[_Axe]] -1) AND  _Axis[_MeasurementOrder[_Axe]].stStatus.fActPosACS < (_PositionOffset[_MeasurementOrder[_Axe]] +1) THEN
					CNCSystem.Channel[0].M[51].bState_rw := FALSE;
					_SetDrivePosition := FALSE;
				END_IF 
				
				//M52 Set Axis as Homed
				IF CNCSystem.Channel[0].M[52].bState_rw THEN
					_Axis[_MeasurementOrder[_Axe]].fRefOffset := 0;
					_Axis[_MeasurementOrder[_Axe]].bSetRefOffset := TRUE;
					IF _Axis[_MeasurementOrder[_Axe]].stStatus.bHomingDone = TRUE THEN
						CNCSystem.Channel[0].M[52].bState_rw := FALSE;
						_Axis[_MeasurementOrder[_Axe]].bSetRefOffset := FALSE;
					END_IF
				END_IF
				
				//M53 Disable Axis
				IF CNCSystem.Channel[0].M[53].bState_rw THEN
					_AutoEn := FALSE;
					IF NOT _Axis[_MeasurementOrder[_Axe]].stStatus.bIsEnabled THEN
						CNCSystem.Channel[0].M[53].bState_rw := FALSE;
					END_IF
				END_IF
				
				//M54 Enable Axis
				IF CNCSystem.Channel[0].M[54].bState_rw THEN
					_AutoEn := TRUE;
					IF _Axis[_MeasurementOrder[_Axe]].stStatus.bIsEnabled THEN
						CNCSystem.Channel[0].M[54].bState_rw := FALSE;
						_Step[_Chan] := 7;	
					END_IF
				END_IF
				
	    7: //Wait for CNC to be Ready
	    	IF _MachineMode[_Chan].State = E_CNC_State.READY THEN
	       		IF (_ManHome.Enabled OR _Axe >= (gNrAx-3)) THEN//)>= 1 THEN
					_Step[_Chan] := 8;
				ELSE
					_Axe:=_Axe+1;
					_Step[_Chan] := 3;
				END_IF
	    	END_IF	
				
		8://Create parking MDI string
			IF _ManHome.Enabled THEN
				_ParkMDIString := CONCAT(_AxisNames[_SelectedAxis],TO_STRING(_ParkPositions[_SelectedAxis]));
			ELSE	
				FOR _Axe := 0 TO UDINT_TO_UINT(gNrAx-2) BY 1 DO	
					IF _Axe = 0 THEN
						_ParkMDIString	:= concat(_AxisNames[_Axe],TO_STRING(_ParkPositions[_Axe]));
					ELSE
						_ParkMDIString	:= concat(_ParkMDIString,concat(' ', concat(_AxisNames[_Axe],TO_STRING(_ParkPositions[_Axe]))));
					END_IF
				END_FOR	
			END_IF
			_MachineMode[_Chan].MDIString := _ParkMDIString;
			_MachineMode[_Chan].Start := TRUE;
			_Step[_Chan] := 9;
		
		9: //Wait for CNC to start moving to park positions
		 	IF _MachineMode[_Chan].State = E_CNC_State.ACTIVE THEN
		     	_Step[_Chan] := 10;
		 	END_IF		
			
		10: //Wait for CNC to reach park positions
		 	IF _MachineMode[_Chan].State = E_CNC_State.READY THEN
		     	_Step[_Chan] := 11;
		 	END_IF
		
		11://Set mode to standby	
			_Homed := TRUE;
			_MachineMode[_Chan].Standby := TRUE;
			IF NOT _Autohome AND NOT _ManHome.Enabled AND _MachineMode[_Chan].Mode = E_CNC_Mode.STANDBY_MODE THEN
				_Step[_Chan] := 0;
			END_IF
			
	END_CASE

END_CASE

//Delete Position Offset
_fb_CNCAX5000DeletePositionOffset(nLogAxisNo:= TO_UINT(_Axis[_MeasurementOrder[_Axe]].nLogAxisNo), Execute:= _DeleteDrivePosition, Memory:= tc3_cnc_drive.E_PositionOffsetMemory.ePositionOffsetMemory_Drive);

//Set Position Offset
_fb_CNCAX5000SetPositionOffset(nLogAxisNo:= TO_UINT(_Axis[_MeasurementOrder[_Axe]].nLogAxisNo), Execute:= _SetDrivePosition, Position:= _PositionOffset[_MeasurementOrder[_Axe]], Memory:= tc3_cnc_drive.E_PositionOffsetMemory.ePositionOffsetMemory_Drive);
]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_ManualMode" Id="{6c94a58e-1d14-4232-9b46-07e75cdeb92e}">
      <Declaration><![CDATA[METHOD PRIVATE M_ManualMode
VAR_INPUT
	{attribute 'tc_no_symbol'}
	_Chan								 : INT;									//Channel index
END_VAR	
VAR_INST
	{attribute 'tc_no_symbol'}
	_fbUintUdInt						 : ARRAY [0..3] OF FB_Uint_Udint;		//Uint to udint FB
	{attribute 'tc_no_symbol'}
	_HandWheelBig						 : UDINT;								//Handwheel value
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[IF (HLI3_CheckChannelValid(_Chan)) THEN

	stManualModeParameter[_Chan].stChannelParameter.nChanIdx := _Chan;       (* Channel 1 *)
	stManualModeParameter[_Chan].stChannelParameter.nInc := _MachineMode[_Chan].ManualMode.nInc * 10;
	stManualModeParameter[_Chan].stChannelParameter.bG200ConfigurationViaPLC := TRUE;		
	
	stManualModeParameter[_Chan].stChannelParameter.eManualType := UINT_TO_INT(_MachineMode[_Chan].ManualMode.nManualTyp);			
	IF (stManualModeParameter[_Chan].stChannelParameter.eManualType = E_CNC_ManualType.Handwheel AND _Chan <> _SelectedChannel) THEN	(* if in Handwheel mode and the channel is NOT selected -> leave handwheel mode and change to TippMode*)
		stManualModeParameter[_Chan].stChannelParameter.eManualType := E_CNC_ManualType.TippMode;
	END_IF		
	
	stManualModeParameter[_Chan].stChannelParameter.stManualOption.bTrafoActive := _MachineMode[_Chan].ManualMode.stManualOption.bTrafoActive;
	stManualModeParameter[_Chan].stChannelParameter.stManualOption.bEcsActive := _MachineMode[_Chan].ManualMode.stManualOption.bEcsActive;
	stManualModeParameter[_Chan].stChannelParameter.stManualOption.eZeroOffset := _MachineMode[_Chan].ManualMode.stManualOption.eZeroOffset;					

	_ManualModeJog:=(_MachineMode[_SelectedChannel].ManualMode.nManualTyp=2) AND _Channel[_SelectedChannel].stCmdModesStates.stModes.Manual;
	_ManualModeInc:=(_MachineMode[_SelectedChannel].ManualMode.nManualTyp=3) AND _Channel[_SelectedChannel].stCmdModesStates.stModes.Manual;
	
	stManualModeParameter[_Chan].stAxisParameter.stControlUnit[0].nLogAxisNr := _MachineMode[_Chan].ManualMode.nLogAxisNumber;   (* Log. Achs Nummer *)
	IF stManualModeParameter[_Chan].stAxisParameter.stControlUnit[0].nLogAxisNr = 0 THEN
		stManualModeParameter[_Chan].stAxisParameter.stControlUnit[0].nLogAxisNr := gpCh[_Chan]^.bahn_state.coord_r[0].log_achs_nr_r;
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := gpCh[_Chan]^.bahn_state.coord_r[0].log_achs_nr_r;
	END_IF
	stManualModeParameter[_Chan].stAxisParameter.stControlUnit[0].nSpeed := LREAL_TO_UDINT(_MachineMode[_Chan].ManualMode.nSpeed * (100000/60));//um/min >> mm/sec
	stManualModeControlElements[_Chan].stControlKeys[0].bKeyNeg := _MachineMode[_Chan].ManualMode.bKeyNeg;
	stManualModeControlElements[_Chan].stControlKeys[0].bKeyPos := _MachineMode[_Chan].ManualMode.bKeyPos;
	stManualModeControlElements[_Chan].stControlKeys[0].bKeyRapid := _MachineMode[_Chan].ManualMode.bKeyRapid;
	
	//Handwheel
	IF _Handwheel.xAxisSelect THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := INT_TO_UINT(_Axis[0].nLogAxisNo);
	ELSIF _Handwheel.yAxisSelect THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := INT_TO_UINT(_Axis[1].nLogAxisNo);
	ELSIF _Handwheel.zAxisSelect THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := INT_TO_UINT(_Axis[2].nLogAxisNo);
	ELSIF _Handwheel.aAxisSelect THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := INT_TO_UINT(_Axis[3].nLogAxisNo);
	ELSIF _Handwheel.cAxisSelect THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := INT_TO_UINT(_Axis[4].nLogAxisNo);
	ELSIF _MachineMode[_Chan].ManualMode.nManualTyp = 1 THEN
		_MachineMode[_Chan].ManualMode.nManualTyp := 0;			
	END_IF
	
	IF _Handwheel.x10Resolution THEN
		_MachineMode[_Chan].ManualMode.nHwResolution := 10;
	ELSIF _Handwheel.x100Resolution THEN
		_MachineMode[_Chan].ManualMode.nHwResolution := 100;
	ELSE
		_MachineMode[_Chan].ManualMode.nHwResolution := 1;
	END_IF
		
	stManualModeParameter[_Chan].stChannelParameter.nHandwheelResolution := UDINT_TO_DINT(_MachineMode[_Chan].ManualMode.nHwResolution)* LREAL_TO_DINT(10000);
	_fbUintUdint[_Chan](ninSmall := _Handwheel.Handwheel, nBig := _HandWheelBig);
	stManualModeControlElements[_Chan].nHandwheelinc[0] :=  UDINT_TO_DINT(_HandWheelBig);
	IF _HandWheelBig > 214748364 OR _HandWheelBig = 0 THEN
		_MachineMode[_Chan].ManualMode.nLogAxisNumber := 0;
		_HandWheelBig := 107374182;
	END_IF
END_IF

]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_Selections" Id="{be37a95d-35cb-48bf-bcf9-2fb9ab9d4d86}">
      <Declaration><![CDATA[METHOD PRIVATE M_Selections
VAR_INPUT
	{attribute 'tc_no_symbol'}
	_Chan					 : INT;
END_VAR
VAR_INST
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[//Reset
	_MachineMode[_Chan].Reset := Control.Inputs.AlarmAck.Enabled OR Control.Inputs.Reset.Enabled;

//Energize
	_R_Trig[7](CLK:=Energize); 
	IF _R_Trig[7].Q THEN 
		_AutoEn:= TRUE; 
	END_IF
	
	_R_trig[6](CLK:= NOT Energize); 
	IF _R_Trig[6].Q THEN 
		_AutoEn:= FALSE; 
	END_IF

//Stop
	_R_Trig[8](CLK:=Control.PackMLState.Stopping OR Control.PackMLState.Holding);
	_MachineMode[_SelectedChannel].Stop := _R_Trig[8].Q;

//Start
	_R_Trig[9](CLK:= (Control.PackMLState.Starting OR Control.PackMLState.Execute) AND _AxisEnabled);
	_MachineMode[_SelectedChannel].Start := _R_Trig[9].Q;
	
//Standby Mode
	_StandbyMode.Interlock := Control.PackMLState.Execute  OR (_StandbyMode.Enabled AND _MachineMode[_Chan].Mode <> E_CNC_Mode.STANDBY_MODE);
	IF _StandbyMode.Interlock THEN 
		_StandbyMode.Messages := 'CNC Machine Must not be Executing for Standby Mode'; 
	END_IF;
	
	_StandbyMode.Select := (_StandbyMode.Select) AND NOT _StandbyMode.Interlock;
	IF NOT _StandbyMode.Select AND NOT _StandbyMode.Interlock THEN 
		_StandbyMode.Messages := 'CNC Ready for Standby Mode'; 
	END_IF;
	
	_StandbyMode.Queued := _StandbyMode.Select;
	IF _StandbyMode.Queued AND NOT _StandbyMode.Enabled THEN 
		_StandbyMode.Messages := 'CNC Standby Mode Selection Queued'; 
	END_IF;
	
	_R_Trig[10](CLK:= _StandbyMode.Queued); 
	IF _R_Trig[10].Q THEN 
		_MachineMode[_Chan].Standby := TRUE;
	END_IF;
	
	_StandbyMode.Enabled := _StandbyMode.Queued AND _MachineMode[_Chan].Mode = E_CNC_Mode.STANDBY_MODE;
	IF _StandbyMode.Enabled THEN 
		_StandbyMode.Messages := 'CNC Standby Mode Enabled'; 
	END_IF;

//Automatic Mode Selection
	_AutomaticMode.Interlock := Control.PackMLState.Execute AND NOT _AutomaticMode.Enabled OR (_AutomaticMode.Enabled AND _MachineMode[_Chan].Mode <> E_CNC_Mode.AUTOMATIC_MODE);
	IF _AutomaticMode.Interlock THEN 
		_AutomaticMode.Messages := 'CNC Machine Must not be Executing for Automatic Mode Selection'; 
	END_IF;
	
	_AutomaticMode.Select := _AutomaticMode.Select AND NOT _AutomaticMode.Interlock;
	IF NOT _AutomaticMode.Select AND NOT _AutomaticMode.Interlock THEN
 		_AutomaticMode.Messages := 'CNC Ready for Automatic Mode'; 
	END_IF;
	
	_AutomaticMode.Queued := _AutomaticMode.Select;
	IF _AutomaticMode.Queued AND NOT _AutomaticMode.Enabled THEN 
		_AutomaticMode.Messages := 'CNC Automatic Mode Selection Queued'; 
	END_IF;
	
	_R_Trig[11](CLK:= _AutomaticMode.Queued);
	IF _R_Trig[11].Q THEN 
		_MachineMode[_Chan].Automatic := TRUE;
	END_IF;
	
	_AutomaticMode.Enabled := _AutomaticMode.Queued AND _MachineMode[_Chan].Mode = E_CNC_Mode.AUTOMATIC_MODE;
	IF _AutomaticMode.Enabled THEN 
		_AutomaticMode.Messages := 'CNC Automatic Mode Enabled'; 
	END_IF;

//3 MDI Mode Selection
	_MDIMode.Interlock := Control.PackMLState.Execute AND NOT _MDIMode.Enabled  OR (_MDIMode.Enabled AND _MachineMode[_Chan].Mode <> E_CNC_Mode.MDI_MODE);
	IF _MDIMode.Interlock THEN 
		_MDIMode.Messages := 'CNC Machine Must not be Executing for MDI Mode Selection'; 
	END_IF;
	
	_MDIMode.Select := _MDIMode.Select AND NOT _MDIMode.Interlock;
	IF NOT _MDIMode.Select AND NOT _MDIMode.Interlock THEN 
		_MDIMode.Messages := 'CNC Ready for MDI Mode'; 
	END_IF;
	
	_MDIMode.Queued := _MDIMode.Select;
	IF _MDIMode.Queued AND NOT _MDIMode.Enabled THEN 
		_MDIMode.Messages := 'CNC MDI Mode Selection Queued'; 
	END_IF;
	
	_R_Trig[12](CLK:= _MDIMode.Queued); 
	IF _R_Trig[12].Q THEN 
		_MachineMode[_Chan].MDI:= TRUE;
	END_IF;

	_MDIMode.Enabled := _MDIMode.Queued AND _MachineMode[_Chan].Mode = E_CNC_Mode.MDI_MODE;
	IF _MDIMode.Enabled THEN 
		_MDIMode.Messages := 'CNC MDI Mode Enabled'; 
	END_IF;

//Manual Mode Selection
	_ManualMode.Interlock := (NOT control.PackMLState.Stopped AND NOT control.PackMLState.Idle)OR (_ManualMode.Enabled AND ((_MachineMode[_Chan].Mode <> E_CNC_Mode.MANUAL_MODE)OR _R_Trig[15].Q));
	IF _ManualMode.Interlock THEN 
		_ManualMode.Messages := 'CNC Must be in a Stopped or Idle State for Manual Mode'; 
	END_IF;	_R_Trig[13](CLK:= _ManualMode.Queued);
	
	_ManualMode.Select := _ManualMode.Select AND NOT _ManualMode.Interlock;
	IF NOT _ManualMode.Select AND NOT _ManualMode.Interlock THEN 
		_ManualMode.Messages := 'CNC Ready for Manual Mode'; 
	END_IF;
	
	_ManualMode.Queued := _ManualMode.Select;
	IF _ManualMode.Queued AND NOT _ManualMode.Enabled THEN 
		_ManualMode.Messages := 'CNC Manual Mode Selection Queued'; 
	END_IF;

	IF _R_Trig[13].Q THEN 
		_MachineMode[_Chan].ManualMode.nManualTyp := 2;  _MachineMode[_Chan].Manual := TRUE; 
	END_IF;
	
	_ManualMode.Enabled := _ManualMode.Queued AND (_MachineMode[_Chan].ManualMode.nManualTyp<>1) AND _MachineMode[_Chan].Mode = E_CNC_Mode.MANUAL_MODE;
	IF _ManualMode.Enabled THEN 
		_ManualMode.Messages := 'CNC Manual Mode Enabled';
	END_IF;
	
//5 Reference Mode Selection
	_ReferenceMode.Interlock := NOT Control.PackMLState.Resetting OR (_ReferenceMode.Enabled AND _MachineMode[_Chan].Mode <> E_CNC_Mode.REFERENCE_MODE);
	IF _ReferenceMode.Interlock THEN 
		_ReferenceMode.Messages := 'CNC Must be in a Stopped or Resseting State for Reference Mode'; 
	END_IF;
	
	_ReferenceMode.Select := (_ReferenceMode.Select OR _AutoHome OR _ManHome.Enabled) AND NOT _ReferenceMode.Interlock;
	IF NOT _ReferenceMode.Select AND NOT _ReferenceMode.Interlock THEN 
		_ReferenceMode.Messages := 'CNC Ready for Reference Mode'; 
	END_IF;

	_ReferenceMode.Queued := _ReferenceMode.Select;
	IF _ReferenceMode.Queued AND NOT _ReferenceMode.Enabled THEN 
		_ReferenceMode.Messages := 'CNC Reference Mode Selection Queued'; 
	END_IF;

	_ReferenceMode.Enabled := _ReferenceMode.Queued;
	IF _ReferenceMode.Enabled THEN 
		_ReferenceMode.Messages := 'CNC Reference Mode Enabled';
	END_IF;
	
//Handwheel Mode Selected
	_HandwheelMode.Interlock := (NOT control.PackMLState.Stopped AND NOT control.PackMLState.Idle) OR (_HandwheelMode.Enabled AND ((_MachineMode[_Chan].Mode <> E_CNC_Mode.MANUAL_MODE)OR _R_Trig[13].Q));
	IF _HandwheelMode.Interlock THEN 
		_HandwheelMode.Messages := 'CNC Must be in a Stopped or Idle State for Handwheel Mode'; 
	END_IF;

	_HandwheelMode.Select := (_Handwheel.xAxisSelect OR _Handwheel.yAxisSelect OR _Handwheel.zAxisSelect OR _Handwheel.cAxisSelect OR _Handwheel.aAxisSelect) AND NOT _HandwheelMode.Interlock;
	IF NOT _HandwheelMode.Select AND NOT _HandwheelMode.Interlock THEN 
		_HandwheelMode.Messages := 'CNC Ready for Handwheel Mode'; 
	END_IF;

	_HandwheelMode.Queued := _HandwheelMode.Select;
	IF _HandwheelMode.Queued AND NOT _HandwheelMode.Enabled THEN 
		_HandwheelMode.Messages := 'CNC Handwheel Mode Selection Queued'; 
	END_IF;

	_R_Trig[15](CLK:= _HandwheelMode.Queued);
	IF _R_Trig[15].Q THEN 
		_MachineMode[_Chan].ManualMode.nManualTyp := 1; _MachineMode[_Chan].Manual := TRUE; 
	END_IF;

	_HandwheelMode.Enabled := _HandwheelMode.Queued AND (_MachineMode[_Chan].ManualMode.nManualTyp=1) AND _MachineMode[_Chan].Mode = E_CNC_Mode.MANUAL_MODE;
	IF _HandwheelMode.Enabled THEN 
		_HandwheelMode.Messages := 'CNC Handwheel Mode Enabled'; 
	END_IF;

//Manual Home Selection
	_R_Trig[16](CLK:= _Homed);	
	_ManHome.Interlock := (NOT control.PackMLState.Stopped AND NOT control.PackMLState.Resetting) OR _R_Trig[16].Q;
	IF _ManHome.Interlock THEN 
		_ManHome.Messages := 'CNC Must be in a Stopped State for Manual Homing'; 
	END_IF;
	
	_ManHome.Select := _ManHome.Select AND NOT _ManHome.Interlock;
	IF NOT _ManHome.Select AND NOT _ManHome.Interlock THEN 
		_ManHome.Messages := 'CNC Ready for Selected Axis to be Homed'; 
	END_IF;
	
	_ManHome.Queued := _ManHome.Select;
	IF _ManHome.Queued AND NOT _ManHome.Enabled THEN 
		_ManHome.Messages := 'CNC Waiting for Machine to be put into Resetting'; 
	END_IF;
	
	_ManHome.Enabled := _ManHome.Queued AND Control.PackMLState.Resetting;
	IF _ManHome.Enabled THEN 
		_ManHome.Messages := 'CNC Axis Manual Home Enabled'; 
	END_IF;

//Spindle Warmup
	_SpindleWarmup.Interlock := Spindle.Warm OR (NOT A1_Control.PackMLState.Idle AND NOT A1_Control.PackMLState.Starting AND NOT A1_Control.PackMLState.Execute AND NOT A1_Control.PackMLState.Completing);
	IF _SpindleWarmup.Interlock THEN 
		_SpindleWarmup.Messages := 'Spindle is Warm or CNC is Not in a Suitable State'; 
	END_IF;
	
	_SpindleWarmup.Select := _SpindleWarmup.Select AND NOT _SpindleWarmup.Interlock;
	IF NOT _SpindleWarmup.Select AND NOT _SpindleWarmup.Interlock THEN 
		_SpindleWarmup.Messages := 'Ready for Spindle Warmup'; 
	END_IF;
	
	_SpindleWarmup.Queued := _SpindleWarmup.Select;
	IF _SpindleWarmup.Queued AND NOT _SpindleWarmup.Enabled THEN 
		_SpindleWarmup.Messages := 'Spindle Warmup is Queued'; 
	END_IF;
	
	_SpindleWarmup.Enabled := _SpindleWarmup.Queued AND Control.PackMLState.Execute;
	IF _SpindleWarmup.Enabled THEN 
		_SpindleWarmup.Messages := 'Spindle Warmup Enabled'; 
	END_IF;
	
//Retract Tool
	_RetractTool.Interlock := NOT A1_Control.PackMLState.Idle AND NOT A1_Control.PackMLState.Starting AND NOT A1_Control.PackMLState.Execute AND NOT A1_Control.PackMLState.Completing;
	IF _RetractTool.Interlock THEN 
		_RetractTool.Messages := 'Machine Not in a Suitable State to Retract Tool'; 
	END_IF;
	
	_RetractTool.Select := (_RetractTool.Select) AND NOT _RetractTool.Interlock;
	IF NOT _RetractTool.Select AND NOT _RetractTool.Interlock THEN 
		_RetractTool.Messages := 'Ready for Tool Retract'; 
	END_IF;
	
	_RetractTool.Queued := _RetractTool.Select;
	IF _RetractTool.Queued AND NOT _RetractTool.Enabled THEN 
		_RetractTool.Messages := 'Retract Tool Selection Queued'; 
	END_IF;
	
	_RetractTool.Enabled := _RetractTool.Queued AND Control.PackMLState.Execute;
	IF _RetractTool.Enabled THEN 
		_RetractTool.Messages := 'Retract Tool Enabled'; 
	END_IF;

]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_Spindle" Id="{e64b7526-e6ce-49bf-bddc-c74afdc22bd2}">
      <Declaration><![CDATA[METHOD PRIVATE M_Spindle
VAR_INPUT
	{attribute 'tc_no_symbol'}
	_Chan					 : INT;
END_VAR
VAR_INST
	_Delay							: TON;
	_fbHandleSpindleTechno			: HLI3_HandleSpindleTechno;
	_ton							: ARRAY[0..5] OF TON;
	_Step							: UINT;
	_MaxSpeed						: UINT := 24000;
	_r_trig							: ARRAY[0..2] OF R_TRIG;
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[_fbHandleSpindleTechno(
	nHliAxisIdx:=0, 
	nHliChannelIdx:=_Chan, 	
	bIsChannelSpecific:= TRUE,	
	nRevolution=>Spindle.ComVelocity,
	nLogAxisNoChannelSpecific:= 96, 
	nPosition=> Spindle.Position, 
	bError=> Spindle.Error, 
	nErrorId=> Spindle.ErrorID, 
	M03:= Spindle.M3, 
	M04:= Spindle.M4, 
	M05:= Spindle.M5, 
	M19:= Spindle.M19);

Spindle.ActVelocity:= _Axis[5].stStatus.fActVelo;

// Spindle warm up control
_ton[0](PT:=T#90M, IN:= Spindle.Warm AND NOT SC2501.RunFeedback);
IF _ton[0].Q THEN
	Spindle.Warm := FALSE;
END_IF

CASE _Step OF
	0: //Idle
	IF _SpindleWarmup.Queued THEN
		_Step := 1;
	END_IF
	
	1: //Change to MDI Mode
	_r_trig[0](CLK := TRUE);
	IF _r_trig[0].Q THEN
		_MachineMode[_Chan].MDI := TRUE;
	END_IF

	_MachineMode[_Chan].MDIString := 'T6$R$NM06$R$NM03 S12000$R$NG04 120$R$NM03 S18000$R$NG04 120$R$NM03 S24000$R$NG04 60$R$NM05$R$NT0$R$NM06$R$NG84$R$NM30';
	IF _MachineMode[_Chan].Mode = E_CNC_Mode.MDI_MODE THEN
		_r_trig[0](CLK := FALSE);
		_Step := 2;
		
	ELSIF NOT _SpindleWarmup.Queued THEN
		_Step := 0;
		_MachineMode[_Chan].MDIString := '';
		_MachineMode[_Chan].Standby := TRUE;
	END_IF
	
	2: //Start
	Control.Inputs.Start.Enabled:= TRUE;
	
	IF _MachineMode[_Chan].State = E_CNC_State.ACTIVE AND _SpindleWarmup.Enabled THEN
		_r_trig[0](CLK := FALSE);
		_Step := 3;
	ELSIF NOT _SpindleWarmup.Queued THEN
		_Step := 0;
		_MachineMode[_Chan].MDIString := '';
		_MachineMode[_Chan].Standby := TRUE;
	END_IF
	
	3: //Complete
	IF _ProgramEnd[_Chan] THEN
		Spindle.Warm := TRUE;
		_SpindleWarmup.Select:= FALSE;
		_MachineMode[_Chan].MDIString := '';
		_Step := 0;
		_MachineMode[_Chan].Standby := TRUE;
	ELSIF NOT _SpindleWarmup.Enabled THEN
		_Step := 0;
		_MachineMode[_Chan].MDIString := '';
		_MachineMode[_Chan].Standby := TRUE;
	END_IF
END_CASE]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_ToolHandler" Id="{9e892e2a-8d72-42cc-89f7-4f9f6b768fcd}">
      <Declaration><![CDATA[METHOD PRIVATE M_ToolHandler
VAR_INPUT
	{attribute 'tc_no_symbol'}
	_Chan					 : INT;
END_VAR
VAR_INST
	_r_trig					: ARRAY[0..5] OF R_TRIG;
	_f_trig					: ARRAY[0..2] OF F_TRIG;
	_Step					: UINT;
END_VAR]]></Declaration>
      <Implementation>
        <ST><![CDATA[_ToolData[0].tool_desc.tool_id.basic := 0;
_ToolData[0].tool_desc.valid := TRUE;

//Transfer Tool Data for Requested Tool from Database
IF _Channel[_Chan].pChannel^.ToolData.bToolRequest THEN
	CASE _Channel[_Chan].pChannel^.ToolData.nToolRequestID OF
	0:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[0];	
	1:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[1];	
	2:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[2];	
	3:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[3];	
	4:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[4];	
	5:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[5];	
	6:
		_Channel[_Chan].pChannel^.ToolData.stActTool := _ToolData[6];	
		
	END_CASE		
END_IF

//Transfer Tool Data from Currently used tool back into Database
IF _Channel[_Chan].pChannel^.ToolData.bOldToolDataExist THEN
	_Channel[_Chan].pChannel^.ToolData.bOldToolDataExist := FALSE;
END_IF

//Reply of request read and processed
IF _Channel[_Chan].pChannel^.ToolData.nToolRequestID = _Channel[_Chan].pChannel^.ToolData.stActTool.tool_desc.tool_id.basic THEN
	_Channel[_Chan].pChannel^.ToolData.bToolRequest := FALSE;
END_IF

//Tool Holder
_r_trig[0](CLK:= _Channel[_Chan].pChannel^.M[7].bState_rw);
IF _r_trig[0].Q THEN
	Spindle.M7:= TRUE;
END_IF

_f_trig[0](CLK:= Spindle.M7);
IF _f_trig[0].Q THEN
	_Channel[_Chan].pChannel^.M[7].bState_rw:= FALSE;
END_IF

_r_trig[1](CLK:= _Channel[_Chan].pChannel^.M[8].bState_rw);
IF _r_trig[1].Q THEN
	Spindle.M8:= TRUE;
END_IF

_f_trig[1](CLK:= Spindle.M8);
IF _f_trig[1].Q THEN
	_Channel[_Chan].pChannel^.M[8].bState_rw:= FALSE;
END_IF

_r_trig[2](CLK:= _Channel[_Chan].pChannel^.M[9].bState_rw);
IF _r_trig[2].Q THEN
	Spindle.M9:= TRUE;
END_IF

_f_trig[2](CLK:= Spindle.M9);
IF _f_trig[2].Q THEN
	_Channel[_Chan].pChannel^.M[9].bState_rw:= FALSE;
END_IF

//Tool Retract
IF NOT _RetractTool.Queued THEN
	_Step:= 0;
END_IF

CASE _Step OF
	0: //Idle
	IF _RetractTool.Queued THEN
		_Step := 1;
	END_IF
	
	1: //Change to MDI Mode
	_r_trig[3](CLK := TRUE);
	IF _r_trig[3].Q THEN
		_MachineMode[_Chan].MDI := TRUE;
	END_IF
	
	_MachineMode[_Chan].MDIString := 'G85$R$NX8000 Y650 Z-135 C90 A-90$R$NM02';
	IF _MachineMode[_Chan].Mode = E_CNC_Mode.MDI_MODE THEN
		_r_trig[3](CLK := FALSE);
		_Step := 2;
	END_IF
	
	2: //Start
	Control.Inputs.Start.Select:= TRUE;
	
	IF _MachineMode[_Chan].State = E_CNC_State.ACTIVE THEN
		_Step := 3;
	END_IF
	
	3: //Complete
	IF _ProgramEnd[_Chan] THEN//_MachineMode[_Chan].State = E_CNC_State.READY THEN
		_Step := 0;
		_MachineMode[_Chan].MDIString := '';
		_RetractTool.Select:= FALSE;
		_MachineMode[_Chan].Standby := TRUE;
	END_IF
END_CASE
]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_VariableViewer" Id="{2919cdc1-60b3-44aa-9241-4a23b53a6fe0}">
      <Declaration><![CDATA[METHOD PRIVATE M_VariableViewer
VAR_INST
	_fbReadCNCVariables 	: FB_ReadCNCVariables;
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[_fbReadCNCVariables(
	bEnable:= TRUE, 
	nChanIdx:= _SelectedChannel, 
	eVariablesType:= eVariablesType, 
	tIntervall:= T#1S, 	 
	stCNCVariablesViewer_Data:= stCNCVariablesViewer_Data);

_pVE_Chan0:= HLI3_LinkVEChannelStructure(nChanIdx:= 0, bGlobal:= FALSE);

_pVE_Chan0^.ParkPos.X:=  _ParkPositions[0];
_pVE_Chan0^.ParkPos.Y:=  _ParkPositions[1];
_pVE_Chan0^.ParkPos.Z:=  _ParkPositions[2];
_pVE_Chan0^.ParkPos.C:=  _ParkPositions[3];
_pVE_Chan0^.ParkPos.A:=  _ParkPositions[4];]]></ST>
      </Implementation>
    </Method>
    <Method Name="M_WarningMonitor" Id="{dd29c373-e592-4892-8644-e81c2f8ce1e5}">
      <Declaration><![CDATA[METHOD PRIVATE M_WarningMonitor
VAR_INPUT
END_VAR
VAR_INST
END_VAR]]></Declaration>
      <Implementation>
        <NWL>
          <XmlArchive>
            <Data>
              <o xml:space="preserve" t="NWLImplementationObject">
                <v n="NetworkListComment">""</v>
                <v n="DefaultViewMode">"Ld"</v>
                <l2 n="NetworkList" cet="Network">
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems" cet="BoxTreeBox">
                      <o>
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">178L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_WarningNum"</v>
                              <v n="Type">"DINT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">180L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems">
                          <o t="BoxTreeBox">
                            <v n="BoxType">"OR"</v>
                            <o n="Instance" t="Operand">
                              <n n="Operand" />
                              <v n="Type">""</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">true</v>
                              <v n="Id">183L</v>
                            </o>
                            <o n="OutputItems" t="OutputItemList">
                              <l2 n="OutputItems" />
                            </o>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <n n="InputFlags" />
                            <l2 n="InputItems">
                              <o t="BoxTreeOperand">
                                <o n="Operand" t="Operand">
                                  <v n="Operand">"_AlarmMute"</v>
                                  <v n="Type">"BOOL"</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">1</v>
                                    <v n="Fixed">true</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">true</v>
                                  <v n="IsInstance">false</v>
                                  <v n="Id">169L</v>
                                </o>
                                <v n="Id">168L</v>
                              </o>
                              <o t="BoxTreeBox">
                                <v n="BoxType">"AND"</v>
                                <o n="Instance" t="Operand">
                                  <n n="Operand" />
                                  <v n="Type">""</v>
                                  <v n="Comment">""</v>
                                  <v n="SymbolComment">""</v>
                                  <v n="Address">""</v>
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="LValue">false</v>
                                  <v n="Boolean">false</v>
                                  <v n="IsInstance">true</v>
                                  <v n="Id">193L</v>
                                </o>
                                <o n="OutputItems" t="OutputItemList">
                                  <l2 n="OutputItems" />
                                </o>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <n n="InputFlags" />
                                <l2 n="InputItems">
                                  <o t="BoxTreeBox">
                                    <v n="BoxType">"GT"</v>
                                    <o n="Instance" t="Operand">
                                      <n n="Operand" />
                                      <v n="Type">""</v>
                                      <v n="Comment">""</v>
                                      <v n="SymbolComment">""</v>
                                      <v n="Address">""</v>
                                      <o n="Flags" t="Flags">
                                        <v n="Flags">0</v>
                                        <v n="Fixed">false</v>
                                        <v n="Extensible">false</v>
                                      </o>
                                      <v n="LValue">false</v>
                                      <v n="Boolean">false</v>
                                      <v n="IsInstance">true</v>
                                      <v n="Id">195L</v>
                                    </o>
                                    <o n="OutputItems" t="OutputItemList">
                                      <l2 n="OutputItems">
                                        <n />
                                      </l2>
                                    </o>
                                    <o n="Flags" t="Flags">
                                      <v n="Flags">0</v>
                                      <v n="Fixed">false</v>
                                      <v n="Extensible">false</v>
                                    </o>
                                    <n n="InputFlags" />
                                    <l2 n="InputItems">
                                      <o t="BoxTreeTerminator">
                                        <n n="Input" />
                                        <o n="Flags" t="Flags">
                                          <v n="Flags">0</v>
                                          <v n="Fixed">false</v>
                                          <v n="Extensible">false</v>
                                        </o>
                                        <v n="Id">203L</v>
                                      </o>
                                      <o t="BoxTreeOperand">
                                        <o n="Operand" t="Operand">
                                          <v n="Operand">"_WarningNum"</v>
                                          <v n="Type">"DINT"</v>
                                          <v n="Comment">""</v>
                                          <v n="SymbolComment">""</v>
                                          <v n="Address">""</v>
                                          <o n="Flags" t="Flags">
                                            <v n="Flags">0</v>
                                            <v n="Fixed">false</v>
                                            <v n="Extensible">false</v>
                                          </o>
                                          <v n="LValue">false</v>
                                          <v n="Boolean">false</v>
                                          <v n="IsInstance">false</v>
                                          <v n="Id">200L</v>
                                        </o>
                                        <v n="Id">199L</v>
                                      </o>
                                      <o t="BoxTreeOperand">
                                        <o n="Operand" t="Operand">
                                          <v n="Operand">"0"</v>
                                          <v n="Type">"INT"</v>
                                          <v n="Comment">""</v>
                                          <v n="SymbolComment">""</v>
                                          <v n="Address">""</v>
                                          <o n="Flags" t="Flags">
                                            <v n="Flags">0</v>
                                            <v n="Fixed">false</v>
                                            <v n="Extensible">false</v>
                                          </o>
                                          <v n="LValue">false</v>
                                          <v n="Boolean">false</v>
                                          <v n="IsInstance">false</v>
                                          <v n="Id">202L</v>
                                        </o>
                                        <v n="Id">201L</v>
                                      </o>
                                    </l2>
                                    <o n="InputParam" t="ParamList">
                                      <l2 n="Names" cet="String">
                                        <v>EN</v>
                                      </l2>
                                      <l2 n="Types" cet="String">
                                        <v>BOOL</v>
                                      </l2>
                                    </o>
                                    <o n="OutputParam" t="ParamList">
                                      <l2 n="Names" cet="String">
                                        <v></v>
                                      </l2>
                                      <l2 n="Types" cet="String">
                                        <v>BOOL</v>
                                      </l2>
                                    </o>
                                    <v n="CallType" t="Operator">Gt</v>
                                    <v n="EN">true</v>
                                    <v n="ENO">false</v>
                                    <n n="STSnippet" />
                                    <v n="ContainsExtensibleInputs">false</v>
                                    <v n="ProvidesSTSnippet">false</v>
                                    <v n="Id">196L</v>
                                  </o>
                                  <o t="BoxTreeOperand">
                                    <o n="Operand" t="Operand">
                                      <v n="Operand">"Control.Inputs.AlarmAck.Enabled"</v>
                                      <v n="Type">"BOOL"</v>
                                      <v n="Comment">""</v>
                                      <v n="SymbolComment">""</v>
                                      <v n="Address">"%Q*"</v>
                                      <o n="Flags" t="Flags">
                                        <v n="Flags">0</v>
                                        <v n="Fixed">true</v>
                                        <v n="Extensible">false</v>
                                      </o>
                                      <v n="LValue">false</v>
                                      <v n="Boolean">true</v>
                                      <v n="IsInstance">false</v>
                                      <v n="Id">186L</v>
                                    </o>
                                    <v n="Id">185L</v>
                                  </o>
                                </l2>
                                <o n="InputParam" t="ParamList">
                                  <l2 n="Names" />
                                  <l2 n="Types" />
                                </o>
                                <o n="OutputParam" t="ParamList">
                                  <l2 n="Names" />
                                  <l2 n="Types" />
                                </o>
                                <v n="CallType" t="Operator">And</v>
                                <n n="EN" />
                                <n n="ENO" />
                                <n n="STSnippet" />
                                <v n="ContainsExtensibleInputs">false</v>
                                <v n="ProvidesSTSnippet">false</v>
                                <v n="Id">194L</v>
                              </o>
                            </l2>
                            <o n="InputParam" t="ParamList">
                              <l2 n="Names" />
                              <l2 n="Types" />
                            </o>
                            <o n="OutputParam" t="ParamList">
                              <l2 n="Names" />
                              <l2 n="Types" />
                            </o>
                            <v n="CallType" t="Operator">Or</v>
                            <n n="EN" />
                            <n n="ENO" />
                            <n n="STSnippet" />
                            <v n="ContainsExtensibleInputs">false</v>
                            <v n="ProvidesSTSnippet">false</v>
                            <v n="Id">184L</v>
                          </o>
                          <o t="BoxTreeOperand">
                            <o n="Operand" t="Operand">
                              <v n="Operand">"0"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">182L</v>
                            </o>
                            <v n="Id">181L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">179L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">167L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems">
                      <o t="BoxTreeDemux">
                        <v n="VarId">12</v>
                        <o n="Input" t="BoxTreeBox">
                          <v n="BoxType">"NE"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">95L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems">
                              <n />
                            </l2>
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeTerminator">
                              <n n="Input" />
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="Id">97L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"_WarningNum"</v>
                                <v n="Type">"DINT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">99L</v>
                              </o>
                              <v n="Id">98L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"0"</v>
                                <v n="Type">"INT"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">101L</v>
                              </o>
                              <v n="Id">100L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v>EN</v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v></v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <v n="CallType" t="Operator">Ne</v>
                          <v n="EN">true</v>
                          <v n="ENO">false</v>
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">96L</v>
                        </o>
                        <v n="Id">143L</v>
                      </o>
                      <o t="BoxTreeAssign">
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <o>
                              <v n="Operand">"_Warning"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">102L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <o n="RValue" t="BoxTreeDemux">
                          <v n="VarId">12</v>
                          <n n="Input" />
                          <v n="Id">144L</v>
                        </o>
                        <v n="Id">103L</v>
                      </o>
                      <o t="BoxTreeAssign">
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <o>
                              <v n="Operand">"Control.Outputs.Warning"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Machine has a warning active"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">2</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">146L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <o n="RValue" t="BoxTreeBox">
                          <v n="BoxType">"AND"</v>
                          <o n="Instance" t="Operand">
                            <n n="Operand" />
                            <v n="Type">""</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">148L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems" />
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems">
                            <o t="BoxTreeBox">
                              <v n="BoxType">"R_TRIG"</v>
                              <o n="Instance" t="Operand">
                                <v n="Operand">"_r_Trig[5]"</v>
                                <v n="Type">"R_TRIG"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">true</v>
                                <v n="Id">162L</v>
                              </o>
                              <o n="OutputItems" t="OutputItemList">
                                <l2 n="OutputItems">
                                  <n />
                                </l2>
                              </o>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <n n="InputFlags" />
                              <l2 n="InputItems" cet="BoxTreeDemux">
                                <o>
                                  <v n="VarId">12</v>
                                  <n n="Input" />
                                  <v n="Id">145L</v>
                                </o>
                              </l2>
                              <o n="InputParam" t="ParamList">
                                <l2 n="Names" cet="String">
                                  <v>CLK</v>
                                </l2>
                                <l2 n="Types" cet="String">
                                  <v>BOOL</v>
                                </l2>
                              </o>
                              <o n="OutputParam" t="ParamList">
                                <l2 n="Names" cet="String">
                                  <v>Q</v>
                                </l2>
                                <l2 n="Types" cet="String">
                                  <v>BOOL</v>
                                </l2>
                              </o>
                              <v n="CallType" t="Operator">FunctionBlock</v>
                              <v n="EN">false</v>
                              <v n="ENO">false</v>
                              <n n="STSnippet" />
                              <v n="ContainsExtensibleInputs">false</v>
                              <v n="ProvidesSTSnippet">false</v>
                              <v n="Id">163L</v>
                            </o>
                            <o t="BoxTreeOperand">
                              <o n="Operand" t="Operand">
                                <v n="Operand">"Control.Outputs.Warning"</v>
                                <v n="Type">"BOOL"</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">"Machine has a warning active"</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">1</v>
                                  <v n="Fixed">true</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">true</v>
                                <v n="IsInstance">false</v>
                                <v n="Id">151L</v>
                              </o>
                              <v n="Id">150L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" />
                            <l2 n="Types" />
                          </o>
                          <v n="CallType" t="Operator">And</v>
                          <n n="EN" />
                          <n n="ENO" />
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">149L</v>
                        </o>
                        <v n="Id">147L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">94L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems" cet="BoxTreeAssign">
                      <o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <o>
                              <v n="Operand">"Control.Outputs.Warning"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">"Machine has a warning active"</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">3</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">135L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <o n="RValue" t="BoxTreeBox">
                          <v n="BoxType">"R_TRIG"</v>
                          <o n="Instance" t="Operand">
                            <v n="Operand">"_r_Trig[4]"</v>
                            <v n="Type">"R_TRIG"</v>
                            <v n="Comment">""</v>
                            <v n="SymbolComment">""</v>
                            <v n="Address">""</v>
                            <o n="Flags" t="Flags">
                              <v n="Flags">0</v>
                              <v n="Fixed">false</v>
                              <v n="Extensible">false</v>
                            </o>
                            <v n="LValue">false</v>
                            <v n="Boolean">false</v>
                            <v n="IsInstance">true</v>
                            <v n="Id">132L</v>
                          </o>
                          <o n="OutputItems" t="OutputItemList">
                            <l2 n="OutputItems">
                              <n />
                            </l2>
                          </o>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <n n="InputFlags" />
                          <l2 n="InputItems" cet="BoxTreeBox">
                            <o>
                              <v n="BoxType">"EQ"</v>
                              <o n="Instance" t="Operand">
                                <n n="Operand" />
                                <v n="Type">""</v>
                                <v n="Comment">""</v>
                                <v n="SymbolComment">""</v>
                                <v n="Address">""</v>
                                <o n="Flags" t="Flags">
                                  <v n="Flags">0</v>
                                  <v n="Fixed">false</v>
                                  <v n="Extensible">false</v>
                                </o>
                                <v n="LValue">false</v>
                                <v n="Boolean">false</v>
                                <v n="IsInstance">true</v>
                                <v n="Id">153L</v>
                              </o>
                              <o n="OutputItems" t="OutputItemList">
                                <l2 n="OutputItems">
                                  <n />
                                </l2>
                              </o>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <n n="InputFlags" />
                              <l2 n="InputItems">
                                <o t="BoxTreeTerminator">
                                  <n n="Input" />
                                  <o n="Flags" t="Flags">
                                    <v n="Flags">0</v>
                                    <v n="Fixed">false</v>
                                    <v n="Extensible">false</v>
                                  </o>
                                  <v n="Id">161L</v>
                                </o>
                                <o t="BoxTreeOperand">
                                  <o n="Operand" t="Operand">
                                    <v n="Operand">"_WarningNum"</v>
                                    <v n="Type">"DINT"</v>
                                    <v n="Comment">""</v>
                                    <v n="SymbolComment">""</v>
                                    <v n="Address">""</v>
                                    <o n="Flags" t="Flags">
                                      <v n="Flags">0</v>
                                      <v n="Fixed">false</v>
                                      <v n="Extensible">false</v>
                                    </o>
                                    <v n="LValue">false</v>
                                    <v n="Boolean">false</v>
                                    <v n="IsInstance">false</v>
                                    <v n="Id">158L</v>
                                  </o>
                                  <v n="Id">157L</v>
                                </o>
                                <o t="BoxTreeOperand">
                                  <o n="Operand" t="Operand">
                                    <v n="Operand">"0"</v>
                                    <v n="Type">"INT"</v>
                                    <v n="Comment">""</v>
                                    <v n="SymbolComment">""</v>
                                    <v n="Address">""</v>
                                    <o n="Flags" t="Flags">
                                      <v n="Flags">0</v>
                                      <v n="Fixed">false</v>
                                      <v n="Extensible">false</v>
                                    </o>
                                    <v n="LValue">false</v>
                                    <v n="Boolean">false</v>
                                    <v n="IsInstance">false</v>
                                    <v n="Id">160L</v>
                                  </o>
                                  <v n="Id">159L</v>
                                </o>
                              </l2>
                              <o n="InputParam" t="ParamList">
                                <l2 n="Names" cet="String">
                                  <v>EN</v>
                                </l2>
                                <l2 n="Types" cet="String">
                                  <v>BOOL</v>
                                </l2>
                              </o>
                              <o n="OutputParam" t="ParamList">
                                <l2 n="Names" cet="String">
                                  <v></v>
                                </l2>
                                <l2 n="Types" cet="String">
                                  <v>BOOL</v>
                                </l2>
                              </o>
                              <v n="CallType" t="Operator">Eq</v>
                              <v n="EN">true</v>
                              <v n="ENO">false</v>
                              <n n="STSnippet" />
                              <v n="ContainsExtensibleInputs">false</v>
                              <v n="ProvidesSTSnippet">false</v>
                              <v n="Id">154L</v>
                            </o>
                          </l2>
                          <o n="InputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v>CLK</v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <o n="OutputParam" t="ParamList">
                            <l2 n="Names" cet="String">
                              <v>Q</v>
                            </l2>
                            <l2 n="Types" cet="String">
                              <v>BOOL</v>
                            </l2>
                          </o>
                          <v n="CallType" t="Operator">FunctionBlock</v>
                          <v n="EN">false</v>
                          <v n="ENO">false</v>
                          <n n="STSnippet" />
                          <v n="ContainsExtensibleInputs">false</v>
                          <v n="ProvidesSTSnippet">false</v>
                          <v n="Id">133L</v>
                        </o>
                        <v n="Id">136L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">107L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems" cet="BoxTreeBox">
                      <o>
                        <v n="BoxType">"M_LogWarning"</v>
                        <o n="Instance" t="Operand">
                          <v n="Operand">""</v>
                          <v n="Type">"M_LogWarning"</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">285L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" />
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">true</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems" cet="BoxTreeOperand">
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Warning"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">272L</v>
                            </o>
                            <v n="Id">271L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Name"</v>
                              <v n="Type">"STRING(15)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">264L</v>
                            </o>
                            <v n="Id">263L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Description"</v>
                              <v n="Type">"STRING(40)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">266L</v>
                            </o>
                            <v n="Id">265L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"''"</v>
                              <v n="Type">"STRING(INT#0)"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">280L</v>
                            </o>
                            <v n="Id">279L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"M_Warnings()"</v>
                              <v n="Type">"TcEventEntry"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">268L</v>
                            </o>
                            <v n="Id">267L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_Warning"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">1</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">288L</v>
                            </o>
                            <v n="Id">287L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"Control.Outputs.WarningMessage"</v>
                              <v n="Type">"STRING"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">270L</v>
                            </o>
                            <v n="Id">269L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>Execute</v>
                            <v>Arg0</v>
                            <v>Arg1</v>
                            <v>Arg2</v>
                            <v>EventEntry</v>
                            <v>Clear</v>
                            <v>Message</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v>STRING</v>
                            <v>STRING</v>
                            <v>STRING</v>
                            <v>TcEventEntry</v>
                            <v>BOOL</v>
                            <v>STRING[REF]</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" />
                          <l2 n="Types" />
                        </o>
                        <v n="CallType" t="Operator">Method</v>
                        <v n="EN">false</v>
                        <v n="ENO">false</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">286L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">253L</v>
                  </o>
                  <o>
                    <v n="ILActive">false</v>
                    <v n="FBDValid">false</v>
                    <v n="ILValid">false</v>
                    <l2 n="ILLines" />
                    <v n="Comment">""</v>
                    <v n="Title">""</v>
                    <v n="Label">""</v>
                    <v n="OutCommented">false</v>
                    <l2 n="NetworkItems" cet="BoxTreeBox">
                      <o>
                        <v n="BoxType">"MOVE"</v>
                        <o n="Instance" t="Operand">
                          <n n="Operand" />
                          <v n="Type">""</v>
                          <v n="Comment">""</v>
                          <v n="SymbolComment">""</v>
                          <v n="Address">""</v>
                          <o n="Flags" t="Flags">
                            <v n="Flags">0</v>
                            <v n="Fixed">false</v>
                            <v n="Extensible">false</v>
                          </o>
                          <v n="LValue">false</v>
                          <v n="Boolean">false</v>
                          <v n="IsInstance">true</v>
                          <v n="Id">223L</v>
                        </o>
                        <o n="OutputItems" t="OutputItemList">
                          <l2 n="OutputItems" cet="Operand">
                            <n />
                            <o>
                              <v n="Operand">"_WarningNum"</v>
                              <v n="Type">"DINT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">true</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">225L</v>
                            </o>
                          </l2>
                        </o>
                        <o n="Flags" t="Flags">
                          <v n="Flags">0</v>
                          <v n="Fixed">false</v>
                          <v n="Extensible">false</v>
                        </o>
                        <n n="InputFlags" />
                        <l2 n="InputItems" cet="BoxTreeOperand">
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"_AlarmMute"</v>
                              <v n="Type">"BOOL"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">true</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">true</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">227L</v>
                            </o>
                            <v n="Id">226L</v>
                          </o>
                          <o>
                            <o n="Operand" t="Operand">
                              <v n="Operand">"2750"</v>
                              <v n="Type">"INT"</v>
                              <v n="Comment">""</v>
                              <v n="SymbolComment">""</v>
                              <v n="Address">""</v>
                              <o n="Flags" t="Flags">
                                <v n="Flags">0</v>
                                <v n="Fixed">false</v>
                                <v n="Extensible">false</v>
                              </o>
                              <v n="LValue">false</v>
                              <v n="Boolean">false</v>
                              <v n="IsInstance">false</v>
                              <v n="Id">229L</v>
                            </o>
                            <v n="Id">228L</v>
                          </o>
                        </l2>
                        <o n="InputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>EN</v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                          </l2>
                        </o>
                        <o n="OutputParam" t="ParamList">
                          <l2 n="Names" cet="String">
                            <v>ENO</v>
                            <v></v>
                          </l2>
                          <l2 n="Types" cet="String">
                            <v>BOOL</v>
                            <v></v>
                          </l2>
                        </o>
                        <v n="CallType" t="Operator">Move</v>
                        <v n="EN">true</v>
                        <v n="ENO">true</v>
                        <n n="STSnippet" />
                        <v n="ContainsExtensibleInputs">false</v>
                        <v n="ProvidesSTSnippet">false</v>
                        <v n="Id">224L</v>
                      </o>
                    </l2>
                    <l2 n="Connectors" />
                    <v n="Id">222L</v>
                  </o>
                </l2>
                <v n="BranchCounter">13</v>
                <v n="ValidIds">true</v>
              </o>
            </Data>
            <TypeList>
              <Type n="Boolean">System.Boolean</Type>
              <Type n="BoxTreeAssign">{9873c309-1f09-4ebf-9078-42d8057ef11b}</Type>
              <Type n="BoxTreeBox">{acfc6f68-8e3a-4af5-bf81-3dd512095a46}</Type>
              <Type n="BoxTreeDemux">{b1d55618-017c-4bc5-990a-55c2f27d9d3a}</Type>
              <Type n="BoxTreeOperand">{9de7f100-1b87-424c-a62e-45b0cfc85ed2}</Type>
              <Type n="BoxTreeTerminator">{5f9848d3-568d-4cc5-9e31-8e28e9607ff1}</Type>
              <Type n="Flags">{668066f2-6069-46b3-8962-8db8d13d7db2}</Type>
              <Type n="Int32">System.Int32</Type>
              <Type n="Int64">System.Int64</Type>
              <Type n="Network">{d9a99d73-b633-47db-b876-a752acb25871}</Type>
              <Type n="NWLImplementationObject">{25e509de-33d4-4447-93f8-c9e4ea381c8b}</Type>
              <Type n="Operand">{c9b2f165-48a2-4a45-8326-3952d8a3d708}</Type>
              <Type n="Operator">{bffb3c53-f105-4e85-aba2-e30df579d75f}</Type>
              <Type n="OutputItemList">{f40d3e09-c02c-4522-a88c-dac23558cfc4}</Type>
              <Type n="ParamList">{71496971-9e0c-4677-a832-b9583b571130}</Type>
              <Type n="String">System.String</Type>
            </TypeList>
          </XmlArchive>
        </NWL>
      </Implementation>
    </Method>
    <Method Name="M_Warnings" Id="{1f82e3c5-6c32-4405-b4b7-c1a6ab9217ef}">
      <Declaration><![CDATA[METHOD PRIVATE M_Warnings : TcEventEntry
VAR_INPUT
END_VAR
]]></Declaration>
      <Implementation>
        <ST><![CDATA[CASE _WarningNum OF		
	2750: M_Warnings:= TC_Events.TcCnc.W_2750;//Alarm Mute Active						
ELSE
	M_Warnings:=  TC_Events.TcCnc.W_Undefined;
END_CASE]]></ST>
      </Implementation>
    </Method>
    <Property Name="MachineMode" Id="{35200c78-ca0f-4c0a-a146-c4e657d8f6b9}">
      <Declaration><![CDATA[PROPERTY PUBLIC MachineMode : REFERENCE TO ARRAY[0..3] OF ST_MachineMode;]]></Declaration>
      <Get Name="Get" Id="{44f7035f-e36e-4c08-84fa-d4979fd47328}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[MachineMode REF= _MachineMode;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="Name" Id="{6bcb0b1f-af97-4ff4-a4ad-20fe9a6bd558}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Name : String[15]]]></Declaration>
      <Get Name="Get" Id="{a6201308-7280-4eb8-b725-8437625eded9}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Name := _Name;]]></ST>
        </Implementation>
      </Get>
      <Set Name="Set" Id="{46e93fdb-d817-4dc2-aa27-428824e675c2}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_Name := Name;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="ProgramEnd" Id="{751a4dba-0a63-4a74-a46d-bba737826f15}">
      <Declaration><![CDATA[PROPERTY PUBLIC ProgramEnd : REFERENCE TO ARRAY[0..3] OF  BOOL]]></Declaration>
      <Get Name="Get" Id="{e07d12d1-46ff-42e3-a141-16df3f15f53b}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[ProgramEnd REF= _ProgramEnd;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="ToolData" Id="{a1ed01ca-de70-408b-b241-baa0bbe38e00}">
      <Declaration><![CDATA[PROPERTY PUBLIC ToolData : ARRAY [0..6] OF ST_CNC_TOOL_DATA_EXT]]></Declaration>
      <Set Name="Set" Id="{bc730669-cd4c-40db-81cd-d3901e8c0c32}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[_ToolData:= ToolData;]]></ST>
        </Implementation>
      </Set>
    </Property>
    <Property Name="Variables" Id="{54cae200-5400-473e-8e73-34ec6e4a47c2}">
      <Declaration><![CDATA[PROPERTY PUBLIC Variables : REFERENCE TO ARRAY[0..9] OF ST_Variable]]></Declaration>
      <Get Name="Get" Id="{f126b3d3-ae41-4df2-9ed7-26eb92202520}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Variables REF= _Variables;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <Property Name="Warning" Id="{7520702d-73cd-4668-96a8-1f71043a3dec}">
      <Declaration><![CDATA[{attribute 'monitoring' := 'variable'}
PROPERTY PUBLIC Warning : Bool]]></Declaration>
      <Get Name="Get" Id="{dc54e4cc-a070-4a07-a294-b673225a685a}">
        <Declaration><![CDATA[VAR
END_VAR
]]></Declaration>
        <Implementation>
          <ST><![CDATA[Warning := _Warning;]]></ST>
        </Implementation>
      </Get>
    </Property>
    <LineIds Name="FB_CNC">
      <LineId Id="500" Count="10" />
      <LineId Id="512" Count="2" />
      <LineId Id="22" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Alarm.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.AlarmMute.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.AutoHome.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.AxisEnabled.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Description.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Description.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Fault.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.FaultTimer_ET.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.FaultTimer_PT.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.FaultTimer_PT.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.FeedOverride.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.FeedOverride.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.HandwheelSelected.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Homed.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_Alarms">
      <LineId Id="12" Count="0" />
      <LineId Id="16" Count="0" />
      <LineId Id="20" Count="0" />
      <LineId Id="14" Count="1" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_AxesHandler">
      <LineId Id="16" Count="0" />
      <LineId Id="21" Count="2" />
      <LineId Id="25" Count="0" />
      <LineId Id="242" Count="0" />
      <LineId Id="259" Count="0" />
      <LineId Id="243" Count="0" />
      <LineId Id="246" Count="2" />
      <LineId Id="245" Count="0" />
      <LineId Id="26" Count="2" />
      <LineId Id="249" Count="0" />
      <LineId Id="244" Count="0" />
      <LineId Id="29" Count="4" />
      <LineId Id="232" Count="0" />
      <LineId Id="34" Count="0" />
      <LineId Id="181" Count="0" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_ChannelHandler">
      <LineId Id="20" Count="13" />
      <LineId Id="35" Count="1" />
      <LineId Id="334" Count="0" />
      <LineId Id="333" Count="0" />
      <LineId Id="37" Count="0" />
      <LineId Id="40" Count="0" />
      <LineId Id="216" Count="0" />
      <LineId Id="218" Count="1" />
      <LineId Id="217" Count="0" />
      <LineId Id="46" Count="2" />
      <LineId Id="50" Count="4" />
      <LineId Id="56" Count="4" />
      <LineId Id="73" Count="1" />
      <LineId Id="76" Count="9" />
      <LineId Id="87" Count="2" />
      <LineId Id="91" Count="1" />
      <LineId Id="239" Count="1" />
      <LineId Id="260" Count="0" />
      <LineId Id="93" Count="0" />
      <LineId Id="95" Count="11" />
      <LineId Id="280" Count="0" />
      <LineId Id="141" Count="0" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_Homing">
      <LineId Id="35" Count="4" />
      <LineId Id="520" Count="0" />
      <LineId Id="522" Count="27" />
      <LineId Id="551" Count="22" />
      <LineId Id="617" Count="0" />
      <LineId Id="623" Count="0" />
      <LineId Id="618" Count="0" />
      <LineId Id="620" Count="2" />
      <LineId Id="619" Count="0" />
      <LineId Id="625" Count="0" />
      <LineId Id="627" Count="0" />
      <LineId Id="631" Count="1" />
      <LineId Id="635" Count="3" />
      <LineId Id="633" Count="0" />
      <LineId Id="628" Count="1" />
      <LineId Id="626" Count="0" />
      <LineId Id="574" Count="0" />
      <LineId Id="639" Count="0" />
      <LineId Id="642" Count="0" />
      <LineId Id="647" Count="0" />
      <LineId Id="641" Count="0" />
      <LineId Id="649" Count="2" />
      <LineId Id="653" Count="17" />
      <LineId Id="652" Count="0" />
      <LineId Id="640" Count="0" />
      <LineId Id="521" Count="0" />
      <LineId Id="40" Count="0" />
      <LineId Id="372" Count="6" />
      <LineId Id="596" Count="0" />
      <LineId Id="595" Count="0" />
      <LineId Id="598" Count="0" />
      <LineId Id="597" Count="0" />
      <LineId Id="379" Count="13" />
      <LineId Id="394" Count="10" />
      <LineId Id="406" Count="5" />
      <LineId Id="672" Count="1" />
      <LineId Id="671" Count="0" />
      <LineId Id="675" Count="1" />
      <LineId Id="413" Count="106" />
      <LineId Id="316" Count="0" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_ManualMode">
      <LineId Id="9" Count="14" />
      <LineId Id="187" Count="1" />
      <LineId Id="24" Count="9" />
      <LineId Id="67" Count="0" />
      <LineId Id="156" Count="0" />
      <LineId Id="70" Count="0" />
      <LineId Id="75" Count="0" />
      <LineId Id="79" Count="0" />
      <LineId Id="78" Count="0" />
      <LineId Id="82" Count="0" />
      <LineId Id="84" Count="1" />
      <LineId Id="87" Count="1" />
      <LineId Id="90" Count="0" />
      <LineId Id="101" Count="1" />
      <LineId Id="73" Count="0" />
      <LineId Id="71" Count="0" />
      <LineId Id="149" Count="5" />
      <LineId Id="60" Count="0" />
      <LineId Id="155" Count="0" />
      <LineId Id="56" Count="0" />
      <LineId Id="41" Count="1" />
      <LineId Id="144" Count="1" />
      <LineId Id="147" Count="0" />
      <LineId Id="146" Count="0" />
      <LineId Id="43" Count="0" />
      <LineId Id="48" Count="0" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_Selections">
      <LineId Id="183" Count="1" />
      <LineId Id="187" Count="0" />
      <LineId Id="189" Count="1" />
      <LineId Id="216" Count="2" />
      <LineId Id="222" Count="0" />
      <LineId Id="195" Count="0" />
      <LineId Id="219" Count="2" />
      <LineId Id="185" Count="0" />
      <LineId Id="178" Count="1" />
      <LineId Id="199" Count="0" />
      <LineId Id="186" Count="0" />
      <LineId Id="180" Count="1" />
      <LineId Id="200" Count="0" />
      <LineId Id="334" Count="0" />
      <LineId Id="112" Count="0" />
      <LineId Id="319" Count="2" />
      <LineId Id="318" Count="0" />
      <LineId Id="322" Count="0" />
      <LineId Id="324" Count="2" />
      <LineId Id="323" Count="0" />
      <LineId Id="327" Count="0" />
      <LineId Id="202" Count="0" />
      <LineId Id="117" Count="0" />
      <LineId Id="207" Count="0" />
      <LineId Id="206" Count="0" />
      <LineId Id="210" Count="0" />
      <LineId Id="328" Count="2" />
      <LineId Id="214" Count="0" />
      <LineId Id="211" Count="0" />
      <LineId Id="120" Count="1" />
      <LineId Id="213" Count="0" />
      <LineId Id="212" Count="0" />
      <LineId Id="122" Count="1" />
      <LineId Id="314" Count="2" />
      <LineId Id="313" Count="0" />
      <LineId Id="317" Count="0" />
      <LineId Id="304" Count="2" />
      <LineId Id="124" Count="0" />
      <LineId Id="307" Count="0" />
      <LineId Id="227" Count="0" />
      <LineId Id="128" Count="0" />
      <LineId Id="230" Count="0" />
      <LineId Id="235" Count="0" />
      <LineId Id="308" Count="0" />
      <LineId Id="310" Count="2" />
      <LineId Id="309" Count="0" />
      <LineId Id="131" Count="0" />
      <LineId Id="229" Count="0" />
      <LineId Id="132" Count="0" />
      <LineId Id="237" Count="0" />
      <LineId Id="233" Count="0" />
      <LineId Id="133" Count="1" />
      <LineId Id="391" Count="3" />
      <LineId Id="135" Count="0" />
      <LineId Id="402" Count="2" />
      <LineId Id="401" Count="0" />
      <LineId Id="405" Count="0" />
      <LineId Id="396" Count="3" />
      <LineId Id="395" Count="0" />
      <LineId Id="400" Count="0" />
      <LineId Id="251" Count="0" />
      <LineId Id="250" Count="0" />
      <LineId Id="238" Count="0" />
      <LineId Id="252" Count="0" />
      <LineId Id="142" Count="1" />
      <LineId Id="249" Count="0" />
      <LineId Id="243" Count="0" />
      <LineId Id="111" Count="0" />
      <LineId Id="31" Count="0" />
      <LineId Id="407" Count="2" />
      <LineId Id="109" Count="0" />
      <LineId Id="410" Count="10" />
      <LineId Id="164" Count="0" />
      <LineId Id="266" Count="0" />
      <LineId Id="253" Count="0" />
      <LineId Id="265" Count="0" />
      <LineId Id="9" Count="0" />
      <LineId Id="13" Count="0" />
      <LineId Id="257" Count="0" />
      <LineId Id="256" Count="0" />
      <LineId Id="144" Count="0" />
      <LineId Id="173" Count="0" />
      <LineId Id="421" Count="3" />
      <LineId Id="430" Count="0" />
      <LineId Id="157" Count="1" />
      <LineId Id="272" Count="0" />
      <LineId Id="271" Count="0" />
      <LineId Id="276" Count="0" />
      <LineId Id="159" Count="1" />
      <LineId Id="273" Count="0" />
      <LineId Id="270" Count="0" />
      <LineId Id="275" Count="0" />
      <LineId Id="163" Count="0" />
      <LineId Id="155" Count="0" />
      <LineId Id="268" Count="0" />
      <LineId Id="267" Count="0" />
      <LineId Id="53" Count="0" />
      <LineId Id="45" Count="0" />
      <LineId Id="437" Count="14" />
      <LineId Id="105" Count="0" />
      <LineId Id="426" Count="3" />
      <LineId Id="52" Count="0" />
      <LineId Id="44" Count="0" />
      <LineId Id="291" Count="0" />
      <LineId Id="278" Count="0" />
      <LineId Id="66" Count="0" />
      <LineId Id="75" Count="0" />
      <LineId Id="452" Count="0" />
      <LineId Id="459" Count="0" />
      <LineId Id="453" Count="3" />
      <LineId Id="76" Count="1" />
      <LineId Id="302" Count="0" />
      <LineId Id="301" Count="0" />
      <LineId Id="300" Count="0" />
      <LineId Id="78" Count="1" />
      <LineId Id="299" Count="0" />
      <LineId Id="298" Count="0" />
      <LineId Id="457" Count="0" />
      <LineId Id="82" Count="0" />
      <LineId Id="65" Count="0" />
      <LineId Id="293" Count="0" />
      <LineId Id="292" Count="0" />
      <LineId Id="369" Count="0" />
      <LineId Id="93" Count="0" />
      <LineId Id="460" Count="4" />
      <LineId Id="373" Count="9" />
      <LineId Id="388" Count="2" />
      <LineId Id="370" Count="0" />
      <LineId Id="465" Count="0" />
      <LineId Id="467" Count="20" />
      <LineId Id="466" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_Spindle">
      <LineId Id="6" Count="4" />
      <LineId Id="30" Count="0" />
      <LineId Id="11" Count="7" />
      <LineId Id="5" Count="0" />
      <LineId Id="37" Count="0" />
      <LineId Id="245" Count="0" />
      <LineId Id="259" Count="0" />
      <LineId Id="250" Count="0" />
      <LineId Id="252" Count="1" />
      <LineId Id="51" Count="0" />
      <LineId Id="129" Count="6" />
      <LineId Id="213" Count="0" />
      <LineId Id="204" Count="0" />
      <LineId Id="137" Count="0" />
      <LineId Id="205" Count="0" />
      <LineId Id="142" Count="2" />
      <LineId Id="211" Count="0" />
      <LineId Id="145" Count="0" />
      <LineId Id="297" Count="0" />
      <LineId Id="225" Count="1" />
      <LineId Id="283" Count="0" />
      <LineId Id="263" Count="0" />
      <LineId Id="146" Count="0" />
      <LineId Id="149" Count="1" />
      <LineId Id="207" Count="0" />
      <LineId Id="203" Count="0" />
      <LineId Id="157" Count="0" />
      <LineId Id="212" Count="0" />
      <LineId Id="158" Count="0" />
      <LineId Id="227" Count="1" />
      <LineId Id="282" Count="0" />
      <LineId Id="262" Count="0" />
      <LineId Id="159" Count="0" />
      <LineId Id="161" Count="0" />
      <LineId Id="163" Count="2" />
      <LineId Id="229" Count="0" />
      <LineId Id="280" Count="0" />
      <LineId Id="215" Count="0" />
      <LineId Id="260" Count="0" />
      <LineId Id="230" Count="1" />
      <LineId Id="281" Count="0" />
      <LineId Id="261" Count="0" />
      <LineId Id="166" Count="0" />
      <LineId Id="36" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_ToolHandler">
      <LineId Id="53" Count="0" />
      <LineId Id="22" Count="0" />
      <LineId Id="64" Count="0" />
      <LineId Id="23" Count="2" />
      <LineId Id="27" Count="3" />
      <LineId Id="37" Count="1" />
      <LineId Id="40" Count="1" />
      <LineId Id="43" Count="1" />
      <LineId Id="58" Count="3" />
      <LineId Id="57" Count="0" />
      <LineId Id="34" Count="1" />
      <LineId Id="63" Count="0" />
      <LineId Id="51" Count="0" />
      <LineId Id="46" Count="1" />
      <LineId Id="62" Count="0" />
      <LineId Id="65" Count="0" />
      <LineId Id="52" Count="0" />
      <LineId Id="49" Count="1" />
      <LineId Id="45" Count="0" />
      <LineId Id="87" Count="0" />
      <LineId Id="99" Count="0" />
      <LineId Id="119" Count="3" />
      <LineId Id="169" Count="0" />
      <LineId Id="123" Count="2" />
      <LineId Id="118" Count="0" />
      <LineId Id="170" Count="0" />
      <LineId Id="104" Count="0" />
      <LineId Id="101" Count="2" />
      <LineId Id="171" Count="0" />
      <LineId Id="107" Count="2" />
      <LineId Id="106" Count="0" />
      <LineId Id="172" Count="0" />
      <LineId Id="111" Count="3" />
      <LineId Id="173" Count="0" />
      <LineId Id="115" Count="2" />
      <LineId Id="110" Count="0" />
      <LineId Id="131" Count="1" />
      <LineId Id="184" Count="2" />
      <LineId Id="183" Count="0" />
      <LineId Id="133" Count="11" />
      <LineId Id="148" Count="6" />
      <LineId Id="157" Count="0" />
      <LineId Id="159" Count="1" />
      <LineId Id="162" Count="5" />
      <LineId Id="196" Count="0" />
      <LineId Id="181" Count="1" />
      <LineId Id="168" Count="0" />
      <LineId Id="130" Count="0" />
      <LineId Id="100" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_VariableViewer">
      <LineId Id="6" Count="4" />
      <LineId Id="5" Count="0" />
      <LineId Id="29" Count="0" />
      <LineId Id="28" Count="0" />
      <LineId Id="35" Count="4" />
      <LineId Id="34" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.M_Warnings">
      <LineId Id="6" Count="0" />
      <LineId Id="9" Count="2" />
      <LineId Id="5" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.MachineMode.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Name.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Name.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.ProgramEnd.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.ToolData.Set">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Variables.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
    <LineIds Name="FB_CNC.Warning.Get">
      <LineId Id="2" Count="0" />
    </LineIds>
  </POU>
</TcPlcObject>